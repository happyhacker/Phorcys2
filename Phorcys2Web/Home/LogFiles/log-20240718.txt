2024-07-18 12:19:58.901 -05:00 [INF] User profile is available. Using 'C:\Users\larryhack\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-18 12:19:59.378 -05:00 [INF] Starting web host
2024-07-18 12:19:59.541 -05:00 [INF] Now listening on: https://localhost:53862
2024-07-18 12:19:59.544 -05:00 [INF] Now listening on: http://localhost:53863
2024-07-18 12:19:59.546 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-18 12:19:59.548 -05:00 [INF] Hosting environment: Development
2024-07-18 12:19:59.550 -05:00 [INF] Content root path: Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys2Web
2024-07-18 12:20:00.731 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 12:20:00.897 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 12:20:00.940 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 12:20:06.435 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 12:20:11.147 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:11.150 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:11.151 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:11.153 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:11.154 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:11.156 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:11.157 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:11.158 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:11.160 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:11.163 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:11.200 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:11.234 -05:00 [INF] Executed ViewResult - view Index executed in 10254.6213ms.
2024-07-18 12:20:11.239 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 10294.6552ms
2024-07-18 12:20:11.242 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 12:20:11.251 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 10526.3479ms
2024-07-18 12:20:11.275 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 12:20:11.277 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 12:20:11.284 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 9.6798ms
2024-07-18 12:20:11.325 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.2057ms
2024-07-18 12:20:28.039 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/Identity/Account/Login - null null
2024-07-18 12:20:28.388 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 12:20:28.576 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 12:20:28.599 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-07-18 12:20:28.607 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-07-18 12:20:28.609 -05:00 [INF] Executed handler method OnGetAsync, returned result .
2024-07-18 12:20:28.613 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-07-18 12:20:28.615 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-07-18 12:20:29.306 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:29.308 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:29.309 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:29.310 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:29.312 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:29.313 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:29.314 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:29.316 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:29.317 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:29.318 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:29.320 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:20:29.327 -05:00 [INF] Executed page /Account/Login in 749.1247ms
2024-07-18 12:20:29.329 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 12:20:29.331 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/Identity/Account/Login - 200 null text/html; charset=utf-8 1293.3516ms
2024-07-18 12:20:29.339 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 12:20:29.340 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 12:20:29.345 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 5.1575ms
2024-07-18 12:20:29.373 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.6417ms
2024-07-18 12:20:31.011 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/Identity/Account/Login - application/x-www-form-urlencoded 267
2024-07-18 12:20:31.024 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 12:20:31.026 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 12:20:31.052 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2024-07-18 12:20:31.604 -05:00 [WRN] The foreign key property 'AgencyInstructor.InstructorId1' was created in shadow state because a conflicting property with the simple name 'InstructorId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-07-18 12:20:31.633 -05:00 [WRN] No store type was specified for the decimal property 'Paid' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 12:20:31.635 -05:00 [WRN] No store type was specified for the decimal property 'RetailPrice' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 12:20:32.340 -05:00 [INF] Executed DbCommand (54ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-18 12:20:32.574 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-18 12:20:32.585 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-07-18 12:20:32.588 -05:00 [INF] User logged in.
2024-07-18 12:20:32.590 -05:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2024-07-18 12:20:32.594 -05:00 [INF] Executing LocalRedirectResult, redirecting to /.
2024-07-18 12:20:32.595 -05:00 [INF] Executed page /Account/Login in 1567.6651ms
2024-07-18 12:20:32.597 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 12:20:32.602 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 12:20:32.603 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/Identity/Account/Login - 302 0 null 1592.167ms
2024-07-18 12:20:32.610 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 12:20:32.612 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 12:20:32.615 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 12:20:32.621 -05:00 [INF] Executed ViewResult - view Index executed in 6.6058ms.
2024-07-18 12:20:32.625 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 10.4984ms
2024-07-18 12:20:32.627 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 12:20:32.628 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 26.7941ms
2024-07-18 12:20:32.632 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 12:20:32.632 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 12:20:32.637 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 5.2797ms
2024-07-18 12:20:32.658 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.4425ms
2024-07-18 12:20:49.337 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification - null null
2024-07-18 12:20:49.346 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 12:20:49.349 -05:00 [INF] Route matched with {action = "Index", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Index() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 12:20:49.430 -05:00 [INF] Executed DbCommand (20ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 12:20:49.500 -05:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[DiverCertificationId], [v].[Agency], [v].[CertificationNum], [v].[Certified], [v].[Created], [v].[DiverFirstname], [v].[DiverId], [v].[DiverLastName], [v].[InstructorFirstName], [v].[InstructorLastName], [v].[LastModified], [v].[Notes], [v].[Title], [v].[UserId]
FROM [vwMyCertifications] AS [v]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[Certified]
2024-07-18 12:20:49.852 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 12:20:50.107 -05:00 [INF] Executed ViewResult - view Index executed in 568.5953ms.
2024-07-18 12:20:50.109 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web) in 757.1471ms
2024-07-18 12:20:50.111 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 12:20:50.111 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 12:20:50.111 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 12:20:50.116 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 5.2911ms
2024-07-18 12:20:50.122 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification - 200 null text/html; charset=utf-8 785.0581ms
2024-07-18 12:20:50.138 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.6119ms
2024-07-18 12:20:51.624 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification/Create? - null null
2024-07-18 12:20:51.633 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 12:20:51.636 -05:00 [INF] Route matched with {action = "Create", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Create() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 12:20:51.736 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DiveAgencyId], [d].[ContactId], [d].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone], [c0].[CertificationId], [c0].[Created], [c0].[DiveAgencyId], [c0].[LastModified], [c0].[Notes], [c0].[Title], [c0].[UserId]
FROM [DiveAgencies] AS [d]
INNER JOIN [Contacts] AS [c] ON [d].[ContactId] = [c].[ContactId]
LEFT JOIN [Certifications] AS [c0] ON [d].[DiveAgencyId] = [c0].[DiveAgencyId]
ORDER BY [c].[Company], [d].[DiveAgencyId], [c].[ContactId]
2024-07-18 12:20:51.822 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DiveAgencyId], [t].[ContactId], [t].[Notes], [c].[CertificationId], [c].[Created], [c].[DiveAgencyId], [c].[LastModified], [c].[Notes], [c].[Title], [c].[UserId]
FROM (
    SELECT TOP(1) [d].[DiveAgencyId], [d].[ContactId], [d].[Notes]
    FROM [DiveAgencies] AS [d]
    WHERE [d].[DiveAgencyId] = @__id_0
) AS [t]
LEFT JOIN [Certifications] AS [c] ON [t].[DiveAgencyId] = [c].[DiveAgencyId]
ORDER BY [t].[DiveAgencyId]
2024-07-18 12:20:51.839 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[InstructorId], [i].[ContactId], [i].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone]
FROM [Instructors] AS [i]
INNER JOIN [Contacts] AS [c] ON [i].[ContactId] = [c].[ContactId]
ORDER BY [c].[LastName], [c].[FirstName]
2024-07-18 12:20:52.094 -05:00 [INF] Executing ViewResult, running view Create.
2024-07-18 12:20:52.201 -05:00 [INF] Executed ViewResult - view Create executed in 349.057ms.
2024-07-18 12:20:52.204 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web) in 565.7069ms
2024-07-18 12:20:52.208 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 12:20:52.211 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification/Create? - 200 null text/html; charset=utf-8 586.8074ms
2024-07-18 12:20:52.214 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 12:20:52.215 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 12:20:52.228 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 13.4534ms
2024-07-18 12:20:52.237 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.5511ms
2024-07-18 12:20:55.511 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/MyCertification/UpdateCertificationList - application/x-www-form-urlencoded 240
2024-07-18 12:20:55.522 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web)'
2024-07-18 12:20:55.529 -05:00 [INF] Route matched with {action = "UpdateCertificationList", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult UpdateCertificationList(Phorcys.Web.Models.MyCertificationViewModel) on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 12:20:55.550 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DiveAgencyId], [d].[ContactId], [d].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone], [c0].[CertificationId], [c0].[Created], [c0].[DiveAgencyId], [c0].[LastModified], [c0].[Notes], [c0].[Title], [c0].[UserId]
FROM [DiveAgencies] AS [d]
INNER JOIN [Contacts] AS [c] ON [d].[ContactId] = [c].[ContactId]
LEFT JOIN [Certifications] AS [c0] ON [d].[DiveAgencyId] = [c0].[DiveAgencyId]
ORDER BY [c].[Company], [d].[DiveAgencyId], [c].[ContactId]
2024-07-18 12:20:55.560 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DiveAgencyId], [t].[ContactId], [t].[Notes], [c].[CertificationId], [c].[Created], [c].[DiveAgencyId], [c].[LastModified], [c].[Notes], [c].[Title], [c].[UserId]
FROM (
    SELECT TOP(1) [d].[DiveAgencyId], [d].[ContactId], [d].[Notes]
    FROM [DiveAgencies] AS [d]
    WHERE [d].[DiveAgencyId] = @__id_0
) AS [t]
LEFT JOIN [Certifications] AS [c] ON [t].[DiveAgencyId] = [c].[DiveAgencyId]
ORDER BY [t].[DiveAgencyId]
2024-07-18 12:20:55.567 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[InstructorId], [i].[ContactId], [i].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone]
FROM [Instructors] AS [i]
INNER JOIN [Contacts] AS [c] ON [i].[ContactId] = [c].[ContactId]
ORDER BY [c].[LastName], [c].[FirstName]
2024-07-18 12:20:55.571 -05:00 [INF] Executing ViewResult, running view Create.
2024-07-18 12:20:55.580 -05:00 [INF] Executed ViewResult - view Create executed in 8.5745ms.
2024-07-18 12:20:55.583 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web) in 49.8648ms
2024-07-18 12:20:55.585 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web)'
2024-07-18 12:20:55.587 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/MyCertification/UpdateCertificationList - 200 null text/html; charset=utf-8 75.9409ms
2024-07-18 12:20:55.589 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 12:20:55.590 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 12:20:55.604 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 13.9589ms
2024-07-18 12:20:55.610 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.0422ms
2024-07-18 12:21:10.928 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/MyCertification/Create - application/x-www-form-urlencoded 340
2024-07-18 12:21:10.937 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 12:21:10.939 -05:00 [INF] Route matched with {action = "Create", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Create(Phorcys.Web.Models.MyCertificationViewModel) on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 12:21:25.888 -05:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DiverCertifications] ([CertificationId], [CertificationNum], [Certified], [Created], [DiverId], [InstructorId], [LastModified], [Notes])
OUTPUT INSERTED.[DiverCertificationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-07-18 12:21:25.910 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'Phorcys.Data.PhorcysContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The conversion of a datetime2 data type to a datetime data type resulted in an out-of-range value.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:d27cc67f-c54a-4ad1-b004-329d4af5503f
Error Number:242,State:3,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The conversion of a datetime2 data type to a datetime data type resulted in an out-of-range value.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:d27cc67f-c54a-4ad1-b004-329d4af5503f
Error Number:242,State:3,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2024-07-18 12:23:44.157 -05:00 [INF] User profile is available. Using 'C:\Users\larryhack\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-18 12:23:44.591 -05:00 [INF] Starting web host
2024-07-18 12:23:44.736 -05:00 [INF] Now listening on: https://localhost:53862
2024-07-18 12:23:44.738 -05:00 [INF] Now listening on: http://localhost:53863
2024-07-18 12:23:44.744 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-18 12:23:44.745 -05:00 [INF] Hosting environment: Development
2024-07-18 12:23:44.747 -05:00 [INF] Content root path: Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys2Web
2024-07-18 12:23:45.480 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 12:23:45.612 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 12:23:45.640 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 12:23:49.915 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 12:23:51.692 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:51.695 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:51.696 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:51.697 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:51.698 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:51.700 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:51.701 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:51.702 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:51.703 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:51.704 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:51.739 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:51.771 -05:00 [INF] Executed ViewResult - view Index executed in 6112.5427ms.
2024-07-18 12:23:51.781 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 6137.1037ms
2024-07-18 12:23:51.784 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 12:23:51.791 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 12:23:51.792 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 12:23:51.795 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 6318.8382ms
2024-07-18 12:23:51.810 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 18.717ms
2024-07-18 12:23:51.837 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.3402ms
2024-07-18 12:23:54.121 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/Identity/Account/Login - null null
2024-07-18 12:23:54.464 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 12:23:54.642 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 12:23:54.666 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-07-18 12:23:54.674 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-07-18 12:23:54.677 -05:00 [INF] Executed handler method OnGetAsync, returned result .
2024-07-18 12:23:54.681 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-07-18 12:23:54.683 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-07-18 12:23:55.373 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:55.375 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:55.376 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:55.377 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:55.379 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:55.381 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:55.383 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:55.385 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:55.386 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:55.388 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:55.390 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 12:23:55.398 -05:00 [INF] Executed page /Account/Login in 753.8964ms
2024-07-18 12:23:55.401 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 12:23:55.403 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/Identity/Account/Login - 200 null text/html; charset=utf-8 1282.0046ms
2024-07-18 12:23:55.411 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 12:23:55.411 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 12:23:55.417 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 6.8409ms
2024-07-18 12:23:55.445 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.6443ms
2024-07-18 12:24:31.684 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/Identity/Account/Login - application/x-www-form-urlencoded 267
2024-07-18 12:24:31.702 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 12:24:31.704 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 12:24:31.731 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2024-07-18 12:24:32.281 -05:00 [WRN] The foreign key property 'AgencyInstructor.InstructorId1' was created in shadow state because a conflicting property with the simple name 'InstructorId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-07-18 12:24:32.310 -05:00 [WRN] No store type was specified for the decimal property 'Paid' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 12:24:32.313 -05:00 [WRN] No store type was specified for the decimal property 'RetailPrice' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 12:24:33.052 -05:00 [INF] Executed DbCommand (69ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-18 12:24:33.313 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-18 12:24:33.324 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-07-18 12:24:33.327 -05:00 [INF] User logged in.
2024-07-18 12:24:33.330 -05:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2024-07-18 12:24:33.333 -05:00 [INF] Executing LocalRedirectResult, redirecting to /.
2024-07-18 12:24:33.336 -05:00 [INF] Executed page /Account/Login in 1630.3211ms
2024-07-18 12:24:33.337 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 12:24:33.342 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 12:24:33.345 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/Identity/Account/Login - 302 0 null 1661.2535ms
2024-07-18 12:24:33.352 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 12:24:33.353 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 12:24:33.356 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 12:24:33.363 -05:00 [INF] Executed ViewResult - view Index executed in 6.8478ms.
2024-07-18 12:24:33.366 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 10.095ms
2024-07-18 12:24:33.368 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 12:24:33.369 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 27.2609ms
2024-07-18 12:24:33.373 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 12:24:33.373 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 12:24:33.378 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 5.7854ms
2024-07-18 12:24:33.402 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.9163ms
2024-07-18 12:24:37.185 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification - null null
2024-07-18 12:24:37.194 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 12:24:37.197 -05:00 [INF] Route matched with {action = "Index", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Index() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 12:24:37.262 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 12:24:37.319 -05:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[DiverCertificationId], [v].[Agency], [v].[CertificationNum], [v].[Certified], [v].[Created], [v].[DiverFirstname], [v].[DiverId], [v].[DiverLastName], [v].[InstructorFirstName], [v].[InstructorLastName], [v].[LastModified], [v].[Notes], [v].[Title], [v].[UserId]
FROM [vwMyCertifications] AS [v]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[Certified]
2024-07-18 12:24:37.676 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 12:24:37.938 -05:00 [INF] Executed ViewResult - view Index executed in 595.4178ms.
2024-07-18 12:24:37.940 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web) in 740.2943ms
2024-07-18 12:24:37.942 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 12:24:37.943 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 12:24:37.943 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 12:24:37.944 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification - 200 null text/html; charset=utf-8 759.3495ms
2024-07-18 12:24:37.948 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 5.9219ms
2024-07-18 12:24:37.969 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.6869ms
2024-07-18 12:24:39.486 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification/Create? - null null
2024-07-18 12:24:39.495 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 12:24:39.498 -05:00 [INF] Route matched with {action = "Create", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Create() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 12:24:39.599 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DiveAgencyId], [d].[ContactId], [d].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone], [c0].[CertificationId], [c0].[Created], [c0].[DiveAgencyId], [c0].[LastModified], [c0].[Notes], [c0].[Title], [c0].[UserId]
FROM [DiveAgencies] AS [d]
INNER JOIN [Contacts] AS [c] ON [d].[ContactId] = [c].[ContactId]
LEFT JOIN [Certifications] AS [c0] ON [d].[DiveAgencyId] = [c0].[DiveAgencyId]
ORDER BY [c].[Company], [d].[DiveAgencyId], [c].[ContactId]
2024-07-18 12:24:39.683 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DiveAgencyId], [t].[ContactId], [t].[Notes], [c].[CertificationId], [c].[Created], [c].[DiveAgencyId], [c].[LastModified], [c].[Notes], [c].[Title], [c].[UserId]
FROM (
    SELECT TOP(1) [d].[DiveAgencyId], [d].[ContactId], [d].[Notes]
    FROM [DiveAgencies] AS [d]
    WHERE [d].[DiveAgencyId] = @__id_0
) AS [t]
LEFT JOIN [Certifications] AS [c] ON [t].[DiveAgencyId] = [c].[DiveAgencyId]
ORDER BY [t].[DiveAgencyId]
2024-07-18 12:24:39.701 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[InstructorId], [i].[ContactId], [i].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone]
FROM [Instructors] AS [i]
INNER JOIN [Contacts] AS [c] ON [i].[ContactId] = [c].[ContactId]
ORDER BY [c].[LastName], [c].[FirstName]
2024-07-18 12:24:39.948 -05:00 [INF] Executing ViewResult, running view Create.
2024-07-18 12:24:40.049 -05:00 [INF] Executed ViewResult - view Create executed in 335.1371ms.
2024-07-18 12:24:40.051 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web) in 550.2249ms
2024-07-18 12:24:40.053 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 12:24:40.055 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification/Create? - 200 null text/html; charset=utf-8 568.9915ms
2024-07-18 12:24:40.057 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 12:24:40.058 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 12:24:40.073 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 15.3969ms
2024-07-18 12:24:40.077 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.1204ms
2024-07-18 12:24:42.941 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/MyCertification/UpdateCertificationList - application/x-www-form-urlencoded 240
2024-07-18 12:24:42.951 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web)'
2024-07-18 12:24:42.961 -05:00 [INF] Route matched with {action = "UpdateCertificationList", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult UpdateCertificationList(Phorcys.Web.Models.MyCertificationViewModel) on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 12:24:42.981 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DiveAgencyId], [d].[ContactId], [d].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone], [c0].[CertificationId], [c0].[Created], [c0].[DiveAgencyId], [c0].[LastModified], [c0].[Notes], [c0].[Title], [c0].[UserId]
FROM [DiveAgencies] AS [d]
INNER JOIN [Contacts] AS [c] ON [d].[ContactId] = [c].[ContactId]
LEFT JOIN [Certifications] AS [c0] ON [d].[DiveAgencyId] = [c0].[DiveAgencyId]
ORDER BY [c].[Company], [d].[DiveAgencyId], [c].[ContactId]
2024-07-18 12:24:42.993 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DiveAgencyId], [t].[ContactId], [t].[Notes], [c].[CertificationId], [c].[Created], [c].[DiveAgencyId], [c].[LastModified], [c].[Notes], [c].[Title], [c].[UserId]
FROM (
    SELECT TOP(1) [d].[DiveAgencyId], [d].[ContactId], [d].[Notes]
    FROM [DiveAgencies] AS [d]
    WHERE [d].[DiveAgencyId] = @__id_0
) AS [t]
LEFT JOIN [Certifications] AS [c] ON [t].[DiveAgencyId] = [c].[DiveAgencyId]
ORDER BY [t].[DiveAgencyId]
2024-07-18 12:24:43.003 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[InstructorId], [i].[ContactId], [i].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone]
FROM [Instructors] AS [i]
INNER JOIN [Contacts] AS [c] ON [i].[ContactId] = [c].[ContactId]
ORDER BY [c].[LastName], [c].[FirstName]
2024-07-18 12:24:43.008 -05:00 [INF] Executing ViewResult, running view Create.
2024-07-18 12:24:43.015 -05:00 [INF] Executed ViewResult - view Create executed in 7.3494ms.
2024-07-18 12:24:43.019 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web) in 54.2803ms
2024-07-18 12:24:43.021 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web)'
2024-07-18 12:24:43.023 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/MyCertification/UpdateCertificationList - 200 null text/html; charset=utf-8 81.3355ms
2024-07-18 12:24:43.025 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 12:24:43.025 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 12:24:43.038 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 13.378ms
2024-07-18 12:24:43.042 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.0486ms
2024-07-18 12:25:02.274 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/MyCertification/Create - application/x-www-form-urlencoded 340
2024-07-18 12:25:02.282 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 12:25:02.284 -05:00 [INF] Route matched with {action = "Create", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Create(Phorcys.Web.Models.MyCertificationViewModel) on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 12:25:15.867 -05:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DiverCertifications] ([CertificationId], [CertificationNum], [Certified], [Created], [DiverId], [InstructorId], [LastModified], [Notes])
OUTPUT INSERTED.[DiverCertificationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-07-18 12:25:15.886 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'Phorcys.Data.PhorcysContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "Divers_DiverCertifications". The conflict occurred in database "Phorcys", table "dbo.Divers", column 'DiverId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:2c48fe87-3b4f-4572-b09d-508871655a8f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "Divers_DiverCertifications". The conflict occurred in database "Phorcys", table "dbo.Divers", column 'DiverId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:2c48fe87-3b4f-4572-b09d-508871655a8f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2024-07-18 12:31:23.914 -05:00 [ERR] Error saving Diver Certification
2024-07-18 13:08:47.825 -05:00 [INF] User profile is available. Using 'C:\Users\larryhack\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-18 13:08:48.289 -05:00 [INF] Starting web host
2024-07-18 13:08:48.428 -05:00 [INF] Now listening on: https://localhost:53862
2024-07-18 13:08:48.429 -05:00 [INF] Now listening on: http://localhost:53863
2024-07-18 13:08:48.431 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-18 13:08:48.432 -05:00 [INF] Hosting environment: Development
2024-07-18 13:08:48.434 -05:00 [INF] Content root path: Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys2Web
2024-07-18 13:08:49.456 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:08:49.620 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:08:49.668 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:08:55.727 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:08:57.462 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:08:57.465 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:08:57.466 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:08:57.467 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:08:57.468 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:08:57.470 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:08:57.471 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:08:57.472 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:08:57.473 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:08:57.475 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:08:57.509 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:08:57.543 -05:00 [INF] Executed ViewResult - view Index executed in 7854.5785ms.
2024-07-18 13:08:57.553 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 7878.9109ms
2024-07-18 13:08:57.556 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:08:57.557 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:08:57.557 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:08:57.565 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 8113.2925ms
2024-07-18 13:08:57.570 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 13.9667ms
2024-07-18 13:08:57.617 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.6748ms
2024-07-18 13:16:00.782 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/Identity/Account/Login - null null
2024-07-18 13:16:01.160 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:16:01.353 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:16:01.376 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-07-18 13:16:01.385 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-07-18 13:16:01.387 -05:00 [INF] Executed handler method OnGetAsync, returned result .
2024-07-18 13:16:01.391 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-07-18 13:16:01.392 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-07-18 13:16:02.089 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:16:02.090 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:16:02.092 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:16:02.093 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:16:02.095 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:16:02.096 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:16:02.098 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:16:02.099 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:16:02.101 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:16:02.102 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:16:02.104 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:16:02.111 -05:00 [INF] Executed page /Account/Login in 755.5749ms
2024-07-18 13:16:02.113 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:16:02.116 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/Identity/Account/Login - 200 null text/html; charset=utf-8 1334.1544ms
2024-07-18 13:16:02.124 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:16:02.125 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:16:02.129 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 5.3226ms
2024-07-18 13:16:02.158 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.7856ms
2024-07-18 13:16:03.796 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/Identity/Account/Login - application/x-www-form-urlencoded 267
2024-07-18 13:16:03.810 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:16:03.812 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:16:03.840 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2024-07-18 13:16:04.497 -05:00 [INF] Executed page /Account/Login in 682.7032ms
2024-07-18 13:16:04.499 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:16:04.503 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The entity type 'DiveTeam' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserOnlyStore`6.get_UsersSet()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserOnlyStore`6.get_Users()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserOnlyStore`6.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(String userName, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnPostAsync(String returnUrl) in Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys2Web\Areas\Identity\Pages\Account\Login.cshtml.cs:line 114
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.ExecutorFactory.GenericTaskHandlerMethod.Convert[T](Object taskAsObject)
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.ExecutorFactory.GenericTaskHandlerMethod.Execute(Object receiver, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker.InvokeHandlerMethodAsync()
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker.InvokeNextPageFilterAsync()
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker.Rethrow(PageHandlerExecutedContext context)
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-18 13:16:04.574 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/Identity/Account/Login - 500 null text/html; charset=utf-8 778.3749ms
2024-07-18 13:16:04.581 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:16:04.582 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:16:04.595 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 12.8991ms
2024-07-18 13:16:04.607 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.4617ms
2024-07-18 13:17:07.036 -05:00 [INF] User profile is available. Using 'C:\Users\larryhack\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-18 13:17:07.466 -05:00 [INF] Starting web host
2024-07-18 13:17:07.602 -05:00 [INF] Now listening on: https://localhost:53862
2024-07-18 13:17:07.603 -05:00 [INF] Now listening on: http://localhost:53863
2024-07-18 13:17:07.606 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-18 13:17:07.607 -05:00 [INF] Hosting environment: Development
2024-07-18 13:17:07.608 -05:00 [INF] Content root path: Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys2Web
2024-07-18 13:17:08.508 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:17:08.663 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:17:08.691 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:17:12.946 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:17:14.763 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:14.765 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:14.767 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:14.768 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:14.769 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:14.770 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:14.771 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:14.773 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:14.774 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:14.776 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:14.811 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:14.844 -05:00 [INF] Executed ViewResult - view Index executed in 6134.7597ms.
2024-07-18 13:17:14.854 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 6159.9699ms
2024-07-18 13:17:14.855 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:17:14.855 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:17:14.856 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:17:14.865 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 10.4387ms
2024-07-18 13:17:14.946 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 6443.1878ms
2024-07-18 13:17:14.998 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 143.7851ms
2024-07-18 13:17:16.576 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/Identity/Account/Login - null null
2024-07-18 13:17:16.950 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:17:17.226 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:17:17.248 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-07-18 13:17:17.257 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-07-18 13:17:17.259 -05:00 [INF] Executed handler method OnGetAsync, returned result .
2024-07-18 13:17:17.263 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-07-18 13:17:17.265 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-07-18 13:17:18.088 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:18.090 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:18.091 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:18.092 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:18.094 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:18.095 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:18.096 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:18.098 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:18.099 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:18.100 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:18.102 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:18.109 -05:00 [INF] Executed page /Account/Login in 881.6986ms
2024-07-18 13:17:18.111 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:17:18.113 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/Identity/Account/Login - 200 null text/html; charset=utf-8 1537.0493ms
2024-07-18 13:17:18.121 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:17:18.121 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:17:18.127 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 6.1391ms
2024-07-18 13:17:18.151 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.405ms
2024-07-18 13:17:19.580 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/Identity/Account/Login - application/x-www-form-urlencoded 267
2024-07-18 13:17:19.593 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:17:19.595 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:17:19.629 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2024-07-18 13:17:20.210 -05:00 [WRN] The foreign key property 'AgencyInstructor.InstructorId1' was created in shadow state because a conflicting property with the simple name 'InstructorId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-07-18 13:17:20.213 -05:00 [WRN] The foreign key property 'User.ContactId1' was created in shadow state because a conflicting property with the simple name 'ContactId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-07-18 13:17:20.242 -05:00 [WRN] No store type was specified for the decimal property 'Paid' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 13:17:20.244 -05:00 [WRN] No store type was specified for the decimal property 'RetailPrice' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 13:17:20.958 -05:00 [INF] Executed DbCommand (54ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-18 13:17:21.194 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-18 13:17:21.205 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-07-18 13:17:21.208 -05:00 [INF] User logged in.
2024-07-18 13:17:21.210 -05:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2024-07-18 13:17:21.213 -05:00 [INF] Executing LocalRedirectResult, redirecting to /.
2024-07-18 13:17:21.215 -05:00 [INF] Executed page /Account/Login in 1617.8443ms
2024-07-18 13:17:21.216 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:17:21.221 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:17:21.224 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/Identity/Account/Login - 302 0 null 1643.871ms
2024-07-18 13:17:21.230 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:17:21.231 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:17:21.234 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:17:21.241 -05:00 [INF] Executed ViewResult - view Index executed in 7.0692ms.
2024-07-18 13:17:21.244 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 10.7326ms
2024-07-18 13:17:21.246 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:17:21.248 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 27.1453ms
2024-07-18 13:17:21.251 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:17:21.252 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:17:21.266 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 14.0461ms
2024-07-18 13:17:21.272 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.9657ms
2024-07-18 13:17:23.608 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification - null null
2024-07-18 13:17:23.616 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:17:23.620 -05:00 [INF] Route matched with {action = "Index", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Index() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:17:23.705 -05:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[ContactId1], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 13:17:23.720 -05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Phorcys.Data.PhorcysContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ContactId1'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:2f63d87e-e227-40ba-8953-8b5c7623497e
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ContactId1'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:2f63d87e-e227-40ba-8953-8b5c7623497e
Error Number:207,State:1,Class:16
2024-07-18 13:17:23.890 -05:00 [ERR] Error retreiving user: Invalid column name 'ContactId1'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ContactId1'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method209(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at UserServices.GetUserId() in Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys.Services\UserServices.cs:line 52
ClientConnectionId:2f63d87e-e227-40ba-8953-8b5c7623497e
Error Number:207,State:1,Class:16
2024-07-18 13:17:24.154 -05:00 [INF] Executing ViewResult, running view Error.
2024-07-18 13:17:24.164 -05:00 [INF] Executed ViewResult - view Error executed in 212.5453ms.
2024-07-18 13:17:24.167 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web) in 544.6245ms
2024-07-18 13:17:24.169 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:17:24.171 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification - 200 null text/html; charset=utf-8 564.1472ms
2024-07-18 13:17:24.175 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:17:24.175 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:17:24.182 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 6.9147ms
2024-07-18 13:17:24.201 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.0957ms
2024-07-18 13:17:49.793 -05:00 [INF] User profile is available. Using 'C:\Users\larryhack\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-18 13:17:50.233 -05:00 [INF] Starting web host
2024-07-18 13:17:50.372 -05:00 [INF] Now listening on: https://localhost:53862
2024-07-18 13:17:50.374 -05:00 [INF] Now listening on: http://localhost:53863
2024-07-18 13:17:50.376 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-18 13:17:50.377 -05:00 [INF] Hosting environment: Development
2024-07-18 13:17:50.378 -05:00 [INF] Content root path: Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys2Web
2024-07-18 13:17:51.465 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:17:51.621 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:17:51.654 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:17:55.824 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:17:57.704 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:57.707 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:57.708 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:57.709 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:57.710 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:57.711 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:57.713 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:57.714 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:57.715 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:57.717 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:57.752 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:17:57.784 -05:00 [INF] Executed ViewResult - view Index executed in 6104.8009ms.
2024-07-18 13:17:57.793 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 6133.7212ms
2024-07-18 13:17:57.796 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:17:57.798 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:17:57.798 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:17:57.806 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 6345.0417ms
2024-07-18 13:17:57.810 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 11.8411ms
2024-07-18 13:17:57.848 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.9057ms
2024-07-18 13:17:59.592 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/Identity/Account/Login - null null
2024-07-18 13:18:00.003 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:18:00.430 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:18:00.453 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-07-18 13:18:00.462 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-07-18 13:18:00.465 -05:00 [INF] Executed handler method OnGetAsync, returned result .
2024-07-18 13:18:00.468 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-07-18 13:18:00.470 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-07-18 13:18:01.384 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:01.385 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:01.387 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:01.388 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:01.389 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:01.391 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:01.392 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:01.393 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:01.395 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:01.396 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:01.398 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:01.405 -05:00 [INF] Executed page /Account/Login in 972.8471ms
2024-07-18 13:18:01.407 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:18:01.410 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/Identity/Account/Login - 200 null text/html; charset=utf-8 1817.8745ms
2024-07-18 13:18:01.417 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:18:01.417 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:18:01.422 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 5.5187ms
2024-07-18 13:18:01.446 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.9933ms
2024-07-18 13:18:02.762 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/Identity/Account/Login - application/x-www-form-urlencoded 267
2024-07-18 13:18:02.775 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:18:02.777 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:18:02.804 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2024-07-18 13:18:03.396 -05:00 [WRN] The foreign key property 'AgencyInstructor.InstructorId1' was created in shadow state because a conflicting property with the simple name 'InstructorId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-07-18 13:18:03.399 -05:00 [WRN] The foreign key property 'User.ContactId1' was created in shadow state because a conflicting property with the simple name 'ContactId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-07-18 13:18:03.427 -05:00 [WRN] No store type was specified for the decimal property 'Paid' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 13:18:03.429 -05:00 [WRN] No store type was specified for the decimal property 'RetailPrice' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 13:18:04.116 -05:00 [INF] Executed DbCommand (48ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-18 13:18:04.352 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-18 13:18:04.363 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-07-18 13:18:04.366 -05:00 [INF] User logged in.
2024-07-18 13:18:04.369 -05:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2024-07-18 13:18:04.372 -05:00 [INF] Executing LocalRedirectResult, redirecting to /.
2024-07-18 13:18:04.374 -05:00 [INF] Executed page /Account/Login in 1595.7016ms
2024-07-18 13:18:04.375 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:18:04.380 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:18:04.382 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/Identity/Account/Login - 302 0 null 1620.3251ms
2024-07-18 13:18:04.389 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:18:04.391 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:18:04.394 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:18:04.401 -05:00 [INF] Executed ViewResult - view Index executed in 6.9643ms.
2024-07-18 13:18:04.404 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 10.7068ms
2024-07-18 13:18:04.406 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:18:04.408 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 28.1125ms
2024-07-18 13:18:04.410 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:18:04.411 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:18:04.427 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 16.7022ms
2024-07-18 13:18:04.437 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.0082ms
2024-07-18 13:18:06.775 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification - null null
2024-07-18 13:18:06.785 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:18:06.788 -05:00 [INF] Route matched with {action = "Index", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Index() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:18:06.871 -05:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[ContactId1], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 13:18:06.886 -05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Phorcys.Data.PhorcysContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ContactId1'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:87f21bc2-234c-48df-b48d-330c1e156945
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ContactId1'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:87f21bc2-234c-48df-b48d-330c1e156945
Error Number:207,State:1,Class:16
2024-07-18 13:18:07.050 -05:00 [ERR] Error retreiving user: Invalid column name 'ContactId1'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ContactId1'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method209(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at UserServices.GetUserId() in Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys.Services\UserServices.cs:line 52
ClientConnectionId:87f21bc2-234c-48df-b48d-330c1e156945
Error Number:207,State:1,Class:16
2024-07-18 13:18:07.308 -05:00 [INF] Executing ViewResult, running view Error.
2024-07-18 13:18:07.316 -05:00 [INF] Executed ViewResult - view Error executed in 204.4906ms.
2024-07-18 13:18:07.320 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web) in 529.9722ms
2024-07-18 13:18:07.323 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:18:07.324 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification - 200 null text/html; charset=utf-8 549.9928ms
2024-07-18 13:18:07.326 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:18:07.327 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:18:07.339 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 11.7128ms
2024-07-18 13:18:07.347 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.9776ms
2024-07-18 13:18:43.922 -05:00 [INF] User profile is available. Using 'C:\Users\larryhack\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-18 13:18:44.369 -05:00 [INF] Starting web host
2024-07-18 13:18:44.509 -05:00 [INF] Now listening on: https://localhost:53862
2024-07-18 13:18:44.511 -05:00 [INF] Now listening on: http://localhost:53863
2024-07-18 13:18:44.513 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-18 13:18:44.514 -05:00 [INF] Hosting environment: Development
2024-07-18 13:18:44.515 -05:00 [INF] Content root path: Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys2Web
2024-07-18 13:18:45.472 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:18:45.603 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:18:45.632 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:18:49.805 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:18:51.509 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:51.512 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:51.513 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:51.514 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:51.516 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:51.517 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:51.519 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:51.520 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:51.521 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:51.522 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:51.567 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:51.600 -05:00 [INF] Executed ViewResult - view Index executed in 5938.715ms.
2024-07-18 13:18:51.610 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 5971.0779ms
2024-07-18 13:18:51.614 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:18:51.614 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:18:51.614 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:18:51.624 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 10.8464ms
2024-07-18 13:18:51.632 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 6164.7742ms
2024-07-18 13:18:51.674 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.1243ms
2024-07-18 13:18:53.459 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/Identity/Account/Login - null null
2024-07-18 13:18:53.813 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:18:54.028 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:18:54.050 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-07-18 13:18:54.058 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-07-18 13:18:54.060 -05:00 [INF] Executed handler method OnGetAsync, returned result .
2024-07-18 13:18:54.063 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-07-18 13:18:54.065 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-07-18 13:18:54.793 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:54.795 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:54.797 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:54.798 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:54.799 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:54.801 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:54.802 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:54.804 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:54.805 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:54.806 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:54.808 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:18:54.815 -05:00 [INF] Executed page /Account/Login in 785.356ms
2024-07-18 13:18:54.817 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:18:54.819 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/Identity/Account/Login - 200 null text/html; charset=utf-8 1360.9994ms
2024-07-18 13:18:54.828 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:18:54.828 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:18:54.840 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 12.7601ms
2024-07-18 13:18:54.855 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.5306ms
2024-07-18 13:18:56.245 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/Identity/Account/Login - application/x-www-form-urlencoded 267
2024-07-18 13:18:56.256 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:18:56.258 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:18:56.286 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2024-07-18 13:18:56.828 -05:00 [WRN] The foreign key property 'AgencyInstructor.InstructorId1' was created in shadow state because a conflicting property with the simple name 'InstructorId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-07-18 13:18:56.831 -05:00 [WRN] The foreign key property 'User.ContactId1' was created in shadow state because a conflicting property with the simple name 'ContactId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-07-18 13:18:56.858 -05:00 [WRN] No store type was specified for the decimal property 'Paid' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 13:18:56.861 -05:00 [WRN] No store type was specified for the decimal property 'RetailPrice' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 13:18:57.565 -05:00 [INF] Executed DbCommand (50ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-18 13:18:57.795 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-18 13:18:57.806 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-07-18 13:18:57.808 -05:00 [INF] User logged in.
2024-07-18 13:18:57.811 -05:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2024-07-18 13:18:57.814 -05:00 [INF] Executing LocalRedirectResult, redirecting to /.
2024-07-18 13:18:57.816 -05:00 [INF] Executed page /Account/Login in 1555.4402ms
2024-07-18 13:18:57.817 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:18:57.822 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:18:57.824 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/Identity/Account/Login - 302 0 null 1579.2768ms
2024-07-18 13:18:57.830 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:18:57.832 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:18:57.834 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:18:57.841 -05:00 [INF] Executed ViewResult - view Index executed in 7.0762ms.
2024-07-18 13:18:57.845 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 11.2882ms
2024-07-18 13:18:57.847 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:18:57.849 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 27.4581ms
2024-07-18 13:18:57.852 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:18:57.852 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:18:57.868 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 15.8947ms
2024-07-18 13:18:57.874 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.8033ms
2024-07-18 13:19:00.359 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification - null null
2024-07-18 13:19:00.368 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:19:00.371 -05:00 [INF] Route matched with {action = "Index", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Index() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:19:00.442 -05:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[ContactId1], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 13:19:00.457 -05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Phorcys.Data.PhorcysContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ContactId1'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:383933e6-faf8-4e42-8274-ff9beac6cbf4
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ContactId1'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:383933e6-faf8-4e42-8274-ff9beac6cbf4
Error Number:207,State:1,Class:16
2024-07-18 13:19:00.600 -05:00 [ERR] Error retreiving user: Invalid column name 'ContactId1'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ContactId1'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method209(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at UserServices.GetUserId() in Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys.Services\UserServices.cs:line 52
ClientConnectionId:383933e6-faf8-4e42-8274-ff9beac6cbf4
Error Number:207,State:1,Class:16
2024-07-18 13:19:00.856 -05:00 [INF] Executing ViewResult, running view Error.
2024-07-18 13:19:00.864 -05:00 [INF] Executed ViewResult - view Error executed in 207.9605ms.
2024-07-18 13:19:00.868 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web) in 494.2649ms
2024-07-18 13:19:00.872 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:19:00.879 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:19:00.879 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification - 200 null text/html; charset=utf-8 520.7058ms
2024-07-18 13:19:00.879 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:19:00.884 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 4.8487ms
2024-07-18 13:19:00.900 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.8409ms
2024-07-18 13:21:06.823 -05:00 [INF] User profile is available. Using 'C:\Users\larryhack\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-18 13:21:07.250 -05:00 [INF] Starting web host
2024-07-18 13:21:07.407 -05:00 [INF] Now listening on: https://localhost:53862
2024-07-18 13:21:07.419 -05:00 [INF] Now listening on: http://localhost:53863
2024-07-18 13:21:07.439 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-18 13:21:07.443 -05:00 [INF] Hosting environment: Development
2024-07-18 13:21:07.445 -05:00 [INF] Content root path: Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys2Web
2024-07-18 13:21:08.152 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:21:08.311 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:21:08.338 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:21:12.549 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:21:14.301 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:14.303 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:14.305 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:14.306 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:14.307 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:14.308 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:14.309 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:14.311 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:14.312 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:14.313 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:14.348 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:14.378 -05:00 [INF] Executed ViewResult - view Index executed in 6023.0977ms.
2024-07-18 13:21:14.386 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 6044.5351ms
2024-07-18 13:21:14.390 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:21:14.400 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:21:14.400 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:21:14.401 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 6254.012ms
2024-07-18 13:21:14.418 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 18.0282ms
2024-07-18 13:21:14.447 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.2906ms
2024-07-18 13:21:16.876 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/Identity/Account/Login - null null
2024-07-18 13:21:17.215 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:21:17.422 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:21:17.444 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-07-18 13:21:17.452 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-07-18 13:21:17.454 -05:00 [INF] Executed handler method OnGetAsync, returned result .
2024-07-18 13:21:17.458 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-07-18 13:21:17.459 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-07-18 13:21:18.265 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:18.267 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:18.268 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:18.269 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:18.271 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:18.272 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:18.274 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:18.275 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:18.276 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:18.277 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:18.279 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:21:18.286 -05:00 [INF] Executed page /Account/Login in 862.5656ms
2024-07-18 13:21:18.288 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:21:18.290 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/Identity/Account/Login - 200 null text/html; charset=utf-8 1414.5006ms
2024-07-18 13:21:18.299 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:21:18.299 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:21:18.304 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 5.4965ms
2024-07-18 13:21:18.334 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.347ms
2024-07-18 13:21:19.465 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/Identity/Account/Login - application/x-www-form-urlencoded 267
2024-07-18 13:21:19.476 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:21:19.478 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:21:19.506 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2024-07-18 13:21:20.060 -05:00 [WRN] The foreign key property 'AgencyInstructor.InstructorId1' was created in shadow state because a conflicting property with the simple name 'InstructorId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-07-18 13:21:20.063 -05:00 [WRN] The foreign key property 'User.ContactId1' was created in shadow state because a conflicting property with the simple name 'ContactId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-07-18 13:21:20.095 -05:00 [WRN] No store type was specified for the decimal property 'Paid' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 13:21:20.097 -05:00 [WRN] No store type was specified for the decimal property 'RetailPrice' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 13:21:20.803 -05:00 [INF] Executed DbCommand (53ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-18 13:21:21.035 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-18 13:21:21.048 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-07-18 13:21:21.051 -05:00 [INF] User logged in.
2024-07-18 13:21:21.053 -05:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2024-07-18 13:21:21.057 -05:00 [INF] Executing LocalRedirectResult, redirecting to /.
2024-07-18 13:21:21.059 -05:00 [INF] Executed page /Account/Login in 1578.4025ms
2024-07-18 13:21:21.060 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:21:21.064 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:21:21.067 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/Identity/Account/Login - 302 0 null 1602.1558ms
2024-07-18 13:21:21.073 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:21:21.075 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:21:21.078 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:21:21.084 -05:00 [INF] Executed ViewResult - view Index executed in 5.9664ms.
2024-07-18 13:21:21.087 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 9.6515ms
2024-07-18 13:21:21.089 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:21:21.090 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 26.1873ms
2024-07-18 13:21:21.094 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:21:21.094 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:21:21.107 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 13.0822ms
2024-07-18 13:21:21.115 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.2554ms
2024-07-18 13:21:23.658 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification - null null
2024-07-18 13:21:23.668 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:21:23.671 -05:00 [INF] Route matched with {action = "Index", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Index() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:21:38.949 -05:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[ContactId1], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 13:21:38.962 -05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Phorcys.Data.PhorcysContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ContactId1'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:ec767cb8-17eb-48e7-8f85-1dcd09245b32
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ContactId1'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:ec767cb8-17eb-48e7-8f85-1dcd09245b32
Error Number:207,State:1,Class:16
2024-07-18 13:25:02.910 -05:00 [ERR] Error retreiving user: Invalid column name 'ContactId1'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ContactId1'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method209(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at UserServices.GetUserId() in Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys.Services\UserServices.cs:line 52
ClientConnectionId:ec767cb8-17eb-48e7-8f85-1dcd09245b32
Error Number:207,State:1,Class:16
2024-07-18 13:25:03.185 -05:00 [INF] Executing ViewResult, running view Error.
2024-07-18 13:25:03.192 -05:00 [INF] Executed ViewResult - view Error executed in 197.9922ms.
2024-07-18 13:25:03.196 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web) in 219520.7787ms
2024-07-18 13:25:03.198 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:25:03.199 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification - 200 null text/html; charset=utf-8 219539.7706ms
2024-07-18 13:25:03.201 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:25:03.203 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:25:03.215 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 12.6879ms
2024-07-18 13:25:03.221 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.8647ms
2024-07-18 13:25:06.571 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:25:06.576 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 5.4662ms
2024-07-18 13:25:09.590 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification - null null
2024-07-18 13:25:09.603 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:25:09.604 -05:00 [INF] Route matched with {action = "Index", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Index() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:26:06.477 -05:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[ContactId1], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 13:26:06.481 -05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Phorcys.Data.PhorcysContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ContactId1'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:ec767cb8-17eb-48e7-8f85-1dcd09245b32
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ContactId1'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:ec767cb8-17eb-48e7-8f85-1dcd09245b32
Error Number:207,State:1,Class:16
2024-07-18 13:29:45.711 -05:00 [ERR] Error retreiving user: Invalid column name 'ContactId1'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ContactId1'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method209(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at UserServices.GetUserId() in Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys.Services\UserServices.cs:line 52
ClientConnectionId:ec767cb8-17eb-48e7-8f85-1dcd09245b32
Error Number:207,State:1,Class:16
2024-07-18 13:29:45.773 -05:00 [INF] Executing ViewResult, running view Error.
2024-07-18 13:29:45.794 -05:00 [INF] Executed ViewResult - view Error executed in 20.5476ms.
2024-07-18 13:29:45.800 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web) in 276190.3272ms
2024-07-18 13:29:45.801 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:29:45.803 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification - 200 null text/html; charset=utf-8 276210.9672ms
2024-07-18 13:29:45.807 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:29:45.805 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:29:45.816 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 11.4258ms
2024-07-18 13:29:45.837 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.7274ms
2024-07-18 13:29:48.445 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:29:48.450 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 4.8626ms
2024-07-18 13:32:54.999 -05:00 [INF] User profile is available. Using 'C:\Users\larryhack\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-18 13:32:55.428 -05:00 [INF] Starting web host
2024-07-18 13:32:55.569 -05:00 [INF] Now listening on: https://localhost:53862
2024-07-18 13:32:55.570 -05:00 [INF] Now listening on: http://localhost:53863
2024-07-18 13:32:55.572 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-18 13:32:55.573 -05:00 [INF] Hosting environment: Development
2024-07-18 13:32:55.574 -05:00 [INF] Content root path: Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys2Web
2024-07-18 13:32:56.843 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:32:57.094 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:32:57.124 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:33:05.368 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:33:07.037 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:07.039 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:07.040 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:07.041 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:07.042 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:07.044 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:07.045 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:07.046 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:07.047 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:07.049 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:07.085 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:07.115 -05:00 [INF] Executed ViewResult - view Index executed in 9974.522ms.
2024-07-18 13:33:07.125 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 9997.4797ms
2024-07-18 13:33:07.129 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:33:07.131 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:33:07.131 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:33:07.139 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 10301.9821ms
2024-07-18 13:33:07.147 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 15.1106ms
2024-07-18 13:33:07.179 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.5497ms
2024-07-18 13:33:08.655 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/Identity/Account/Login - null null
2024-07-18 13:33:09.025 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:33:09.261 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:33:09.285 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-07-18 13:33:09.294 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-07-18 13:33:09.296 -05:00 [INF] Executed handler method OnGetAsync, returned result .
2024-07-18 13:33:09.300 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-07-18 13:33:09.302 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-07-18 13:33:10.040 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:10.042 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:10.043 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:10.045 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:10.046 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:10.048 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:10.049 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:10.050 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:10.052 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:10.053 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:10.055 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:33:10.062 -05:00 [INF] Executed page /Account/Login in 798.9455ms
2024-07-18 13:33:10.064 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:33:10.066 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/Identity/Account/Login - 200 null text/html; charset=utf-8 1411.1057ms
2024-07-18 13:33:10.078 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:33:10.078 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:33:10.083 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 5.8734ms
2024-07-18 13:33:10.108 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.026ms
2024-07-18 13:33:11.292 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/Identity/Account/Login - application/x-www-form-urlencoded 267
2024-07-18 13:33:11.303 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:33:11.305 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:33:11.332 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2024-07-18 13:33:11.891 -05:00 [WRN] The foreign key property 'AgencyInstructor.InstructorId1' was created in shadow state because a conflicting property with the simple name 'InstructorId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-07-18 13:33:11.921 -05:00 [WRN] No store type was specified for the decimal property 'Paid' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 13:33:11.923 -05:00 [WRN] No store type was specified for the decimal property 'RetailPrice' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 13:33:12.643 -05:00 [INF] Executed DbCommand (58ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-18 13:33:12.887 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-18 13:33:12.898 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-07-18 13:33:12.900 -05:00 [INF] User logged in.
2024-07-18 13:33:12.903 -05:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2024-07-18 13:33:12.906 -05:00 [INF] Executing LocalRedirectResult, redirecting to /.
2024-07-18 13:33:12.907 -05:00 [INF] Executed page /Account/Login in 1600.8889ms
2024-07-18 13:33:12.909 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:33:12.913 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:33:12.916 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/Identity/Account/Login - 302 0 null 1624.6517ms
2024-07-18 13:33:12.923 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:33:12.925 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:33:12.927 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:33:12.935 -05:00 [INF] Executed ViewResult - view Index executed in 7.4493ms.
2024-07-18 13:33:12.938 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 11.4968ms
2024-07-18 13:33:12.940 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:33:12.942 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 28.6575ms
2024-07-18 13:33:12.943 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:33:12.943 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:33:12.951 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 8.1988ms
2024-07-18 13:33:12.974 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.0365ms
2024-07-18 13:33:16.225 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification - null null
2024-07-18 13:33:16.234 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:33:16.237 -05:00 [INF] Route matched with {action = "Index", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Index() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:33:18.863 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 13:33:18.930 -05:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[DiverCertificationId], [v].[Agency], [v].[CertificationNum], [v].[Certified], [v].[Created], [v].[DiverFirstname], [v].[DiverId], [v].[DiverLastName], [v].[InstructorFirstName], [v].[InstructorLastName], [v].[LastModified], [v].[Notes], [v].[Title], [v].[UserId]
FROM [vwMyCertifications] AS [v]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[Certified]
2024-07-18 13:33:19.269 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:33:19.553 -05:00 [INF] Executed ViewResult - view Index executed in 599.4751ms.
2024-07-18 13:33:19.555 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web) in 3315.4728ms
2024-07-18 13:33:19.557 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:33:19.559 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:33:19.559 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:33:19.559 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification - 200 null text/html; charset=utf-8 3335.3821ms
2024-07-18 13:33:19.572 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 13.2216ms
2024-07-18 13:33:19.579 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.8103ms
2024-07-18 13:33:24.438 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification/Create? - null null
2024-07-18 13:33:24.448 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 13:33:24.451 -05:00 [INF] Route matched with {action = "Create", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Create() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:33:24.567 -05:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DiveAgencyId], [d].[ContactId], [d].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone], [c0].[CertificationId], [c0].[Created], [c0].[DiveAgencyId], [c0].[LastModified], [c0].[Notes], [c0].[Title], [c0].[UserId]
FROM [DiveAgencies] AS [d]
INNER JOIN [Contacts] AS [c] ON [d].[ContactId] = [c].[ContactId]
LEFT JOIN [Certifications] AS [c0] ON [d].[DiveAgencyId] = [c0].[DiveAgencyId]
ORDER BY [c].[Company], [d].[DiveAgencyId], [c].[ContactId]
2024-07-18 13:33:24.655 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DiveAgencyId], [t].[ContactId], [t].[Notes], [c].[CertificationId], [c].[Created], [c].[DiveAgencyId], [c].[LastModified], [c].[Notes], [c].[Title], [c].[UserId]
FROM (
    SELECT TOP(1) [d].[DiveAgencyId], [d].[ContactId], [d].[Notes]
    FROM [DiveAgencies] AS [d]
    WHERE [d].[DiveAgencyId] = @__id_0
) AS [t]
LEFT JOIN [Certifications] AS [c] ON [t].[DiveAgencyId] = [c].[DiveAgencyId]
ORDER BY [t].[DiveAgencyId]
2024-07-18 13:33:24.676 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[InstructorId], [i].[ContactId], [i].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone]
FROM [Instructors] AS [i]
INNER JOIN [Contacts] AS [c] ON [i].[ContactId] = [c].[ContactId]
ORDER BY [c].[LastName], [c].[FirstName]
2024-07-18 13:33:24.919 -05:00 [INF] Executing ViewResult, running view Create.
2024-07-18 13:33:25.023 -05:00 [INF] Executed ViewResult - view Create executed in 334.2314ms.
2024-07-18 13:33:25.025 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web) in 571.7829ms
2024-07-18 13:33:25.027 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 13:33:25.028 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification/Create? - 200 null text/html; charset=utf-8 589.9812ms
2024-07-18 13:33:25.032 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:33:25.032 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:33:25.038 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 6.6016ms
2024-07-18 13:33:25.051 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.7836ms
2024-07-18 13:33:27.713 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/MyCertification/UpdateCertificationList - application/x-www-form-urlencoded 240
2024-07-18 13:33:27.726 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web)'
2024-07-18 13:33:27.734 -05:00 [INF] Route matched with {action = "UpdateCertificationList", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult UpdateCertificationList(Phorcys.Web.Models.MyCertificationViewModel) on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:33:27.756 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DiveAgencyId], [d].[ContactId], [d].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone], [c0].[CertificationId], [c0].[Created], [c0].[DiveAgencyId], [c0].[LastModified], [c0].[Notes], [c0].[Title], [c0].[UserId]
FROM [DiveAgencies] AS [d]
INNER JOIN [Contacts] AS [c] ON [d].[ContactId] = [c].[ContactId]
LEFT JOIN [Certifications] AS [c0] ON [d].[DiveAgencyId] = [c0].[DiveAgencyId]
ORDER BY [c].[Company], [d].[DiveAgencyId], [c].[ContactId]
2024-07-18 13:33:27.766 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DiveAgencyId], [t].[ContactId], [t].[Notes], [c].[CertificationId], [c].[Created], [c].[DiveAgencyId], [c].[LastModified], [c].[Notes], [c].[Title], [c].[UserId]
FROM (
    SELECT TOP(1) [d].[DiveAgencyId], [d].[ContactId], [d].[Notes]
    FROM [DiveAgencies] AS [d]
    WHERE [d].[DiveAgencyId] = @__id_0
) AS [t]
LEFT JOIN [Certifications] AS [c] ON [t].[DiveAgencyId] = [c].[DiveAgencyId]
ORDER BY [t].[DiveAgencyId]
2024-07-18 13:33:27.772 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[InstructorId], [i].[ContactId], [i].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone]
FROM [Instructors] AS [i]
INNER JOIN [Contacts] AS [c] ON [i].[ContactId] = [c].[ContactId]
ORDER BY [c].[LastName], [c].[FirstName]
2024-07-18 13:33:27.778 -05:00 [INF] Executing ViewResult, running view Create.
2024-07-18 13:33:27.787 -05:00 [INF] Executed ViewResult - view Create executed in 9.6784ms.
2024-07-18 13:33:27.790 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web) in 53.1504ms
2024-07-18 13:33:27.792 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web)'
2024-07-18 13:33:27.795 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/MyCertification/UpdateCertificationList - 200 null text/html; charset=utf-8 81.1455ms
2024-07-18 13:33:27.798 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:33:27.798 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:33:27.813 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 15.438ms
2024-07-18 13:33:27.816 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.5448ms
2024-07-18 13:33:40.858 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/MyCertification/Create - application/x-www-form-urlencoded 326
2024-07-18 13:33:40.865 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 13:33:40.867 -05:00 [INF] Route matched with {action = "Create", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Create(Phorcys.Web.Models.MyCertificationViewModel) on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:33:46.417 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 13:33:46.439 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-07-18 13:33:46.451 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_ContactId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DiverId], [d].[ContactId], [d].[Notes], [d].[RestingSacRate], [d].[WorkingSacRate]
FROM [Divers] AS [d]
WHERE [d].[ContactId] = @__user_ContactId_0
2024-07-18 13:33:51.431 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DiverCertifications] ([CertificationId], [CertificationNum], [Certified], [Created], [DiverId], [InstructorId], [LastModified], [Notes])
OUTPUT INSERTED.[DiverCertificationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-07-18 13:33:51.452 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'Phorcys.Data.PhorcysContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "Instructors_DiverCertifications". The conflict occurred in database "Phorcys", table "dbo.Instructors", column 'InstructorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:6cae31ac-14b9-4e58-a9d5-3ea741b299b9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "Instructors_DiverCertifications". The conflict occurred in database "Phorcys", table "dbo.Instructors", column 'InstructorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:6cae31ac-14b9-4e58-a9d5-3ea741b299b9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2024-07-18 13:37:34.489 -05:00 [ERR] Error saving Diver Certification
2024-07-18 13:37:39.195 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web) in 238323.3962ms
2024-07-18 13:37:39.201 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 13:37:39.213 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "Instructors_DiverCertifications". The conflict occurred in database "Phorcys", table "dbo.Instructors", column 'InstructorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:6cae31ac-14b9-4e58-a9d5-3ea741b299b9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Phorcys.Services.MyCertificationServices.SaveNewDiverCertification(MyCertificationDto certDto)
   at Phorcys.Web.Controllers.MyCertificationController.Create(MyCertificationViewModel model)
   at lambda_method728(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-18 13:37:39.258 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/MyCertification/Create - 500 null text/html; charset=utf-8 238398.7719ms
2024-07-18 13:37:39.268 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:37:39.268 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:37:39.285 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.4907ms
2024-07-18 13:37:39.286 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 17.9299ms
2024-07-18 13:37:42.739 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification/Create? - null null
2024-07-18 13:37:42.751 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 13:37:42.753 -05:00 [INF] Route matched with {action = "Create", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Create() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:37:42.778 -05:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DiveAgencyId], [d].[ContactId], [d].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone], [c0].[CertificationId], [c0].[Created], [c0].[DiveAgencyId], [c0].[LastModified], [c0].[Notes], [c0].[Title], [c0].[UserId]
FROM [DiveAgencies] AS [d]
INNER JOIN [Contacts] AS [c] ON [d].[ContactId] = [c].[ContactId]
LEFT JOIN [Certifications] AS [c0] ON [d].[DiveAgencyId] = [c0].[DiveAgencyId]
ORDER BY [c].[Company], [d].[DiveAgencyId], [c].[ContactId]
2024-07-18 13:37:42.786 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DiveAgencyId], [t].[ContactId], [t].[Notes], [c].[CertificationId], [c].[Created], [c].[DiveAgencyId], [c].[LastModified], [c].[Notes], [c].[Title], [c].[UserId]
FROM (
    SELECT TOP(1) [d].[DiveAgencyId], [d].[ContactId], [d].[Notes]
    FROM [DiveAgencies] AS [d]
    WHERE [d].[DiveAgencyId] = @__id_0
) AS [t]
LEFT JOIN [Certifications] AS [c] ON [t].[DiveAgencyId] = [c].[DiveAgencyId]
ORDER BY [t].[DiveAgencyId]
2024-07-18 13:37:42.795 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[InstructorId], [i].[ContactId], [i].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone]
FROM [Instructors] AS [i]
INNER JOIN [Contacts] AS [c] ON [i].[ContactId] = [c].[ContactId]
ORDER BY [c].[LastName], [c].[FirstName]
2024-07-18 13:37:43.063 -05:00 [INF] Executing ViewResult, running view Create.
2024-07-18 13:37:43.088 -05:00 [INF] Executed ViewResult - view Create executed in 289.2023ms.
2024-07-18 13:37:43.091 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web) in 334.6559ms
2024-07-18 13:37:43.093 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 13:37:43.095 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification/Create? - 200 null text/html; charset=utf-8 355.4578ms
2024-07-18 13:37:43.098 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:37:43.107 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 9.1895ms
2024-07-18 13:37:46.223 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/MyCertification/UpdateCertificationList - application/x-www-form-urlencoded 240
2024-07-18 13:37:46.232 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web)'
2024-07-18 13:37:46.236 -05:00 [INF] Route matched with {action = "UpdateCertificationList", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult UpdateCertificationList(Phorcys.Web.Models.MyCertificationViewModel) on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:37:46.246 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DiveAgencyId], [d].[ContactId], [d].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone], [c0].[CertificationId], [c0].[Created], [c0].[DiveAgencyId], [c0].[LastModified], [c0].[Notes], [c0].[Title], [c0].[UserId]
FROM [DiveAgencies] AS [d]
INNER JOIN [Contacts] AS [c] ON [d].[ContactId] = [c].[ContactId]
LEFT JOIN [Certifications] AS [c0] ON [d].[DiveAgencyId] = [c0].[DiveAgencyId]
ORDER BY [c].[Company], [d].[DiveAgencyId], [c].[ContactId]
2024-07-18 13:37:46.253 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DiveAgencyId], [t].[ContactId], [t].[Notes], [c].[CertificationId], [c].[Created], [c].[DiveAgencyId], [c].[LastModified], [c].[Notes], [c].[Title], [c].[UserId]
FROM (
    SELECT TOP(1) [d].[DiveAgencyId], [d].[ContactId], [d].[Notes]
    FROM [DiveAgencies] AS [d]
    WHERE [d].[DiveAgencyId] = @__id_0
) AS [t]
LEFT JOIN [Certifications] AS [c] ON [t].[DiveAgencyId] = [c].[DiveAgencyId]
ORDER BY [t].[DiveAgencyId]
2024-07-18 13:37:46.259 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[InstructorId], [i].[ContactId], [i].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone]
FROM [Instructors] AS [i]
INNER JOIN [Contacts] AS [c] ON [i].[ContactId] = [c].[ContactId]
ORDER BY [c].[LastName], [c].[FirstName]
2024-07-18 13:37:46.263 -05:00 [INF] Executing ViewResult, running view Create.
2024-07-18 13:37:46.272 -05:00 [INF] Executed ViewResult - view Create executed in 9.2558ms.
2024-07-18 13:37:46.274 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web) in 35.3593ms
2024-07-18 13:37:46.276 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web)'
2024-07-18 13:37:46.279 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/MyCertification/UpdateCertificationList - 200 null text/html; charset=utf-8 55.977ms
2024-07-18 13:37:46.280 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:37:46.280 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:37:46.302 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 22.4694ms
2024-07-18 13:37:46.308 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.0025ms
2024-07-18 13:39:13.532 -05:00 [INF] User profile is available. Using 'C:\Users\larryhack\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-18 13:39:14.002 -05:00 [INF] Starting web host
2024-07-18 13:39:14.140 -05:00 [INF] Now listening on: https://localhost:53862
2024-07-18 13:39:14.142 -05:00 [INF] Now listening on: http://localhost:53863
2024-07-18 13:39:14.144 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-18 13:39:14.145 -05:00 [INF] Hosting environment: Development
2024-07-18 13:39:14.146 -05:00 [INF] Content root path: Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys2Web
2024-07-18 13:39:15.245 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:39:15.396 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:39:15.442 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:39:20.134 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:39:21.849 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:21.852 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:21.853 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:21.854 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:21.855 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:21.856 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:21.857 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:21.859 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:21.860 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:21.882 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:21.915 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:21.947 -05:00 [INF] Executed ViewResult - view Index executed in 6485.9009ms.
2024-07-18 13:39:21.955 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 6509.0369ms
2024-07-18 13:39:21.959 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:39:21.965 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:39:21.966 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:39:21.971 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 6730.3202ms
2024-07-18 13:39:21.980 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 15.2601ms
2024-07-18 13:39:22.007 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.3964ms
2024-07-18 13:39:23.369 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/Identity/Account/Login - null null
2024-07-18 13:39:23.742 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:39:23.930 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:39:23.953 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-07-18 13:39:23.962 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-07-18 13:39:23.964 -05:00 [INF] Executed handler method OnGetAsync, returned result .
2024-07-18 13:39:23.968 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-07-18 13:39:23.969 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-07-18 13:39:24.679 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:24.680 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:24.682 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:24.683 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:24.685 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:24.687 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:24.688 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:24.689 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:24.691 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:24.692 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:24.694 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:39:24.701 -05:00 [INF] Executed page /Account/Login in 768.145ms
2024-07-18 13:39:24.702 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:39:24.704 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/Identity/Account/Login - 200 null text/html; charset=utf-8 1335.6854ms
2024-07-18 13:39:24.713 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:39:24.714 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:39:24.726 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 13.0279ms
2024-07-18 13:39:24.743 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.6118ms
2024-07-18 13:39:26.221 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/Identity/Account/Login - application/x-www-form-urlencoded 267
2024-07-18 13:39:26.234 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:39:26.237 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:39:26.265 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2024-07-18 13:39:26.817 -05:00 [WRN] The foreign key property 'AgencyInstructor.InstructorId1' was created in shadow state because a conflicting property with the simple name 'InstructorId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-07-18 13:39:26.847 -05:00 [WRN] No store type was specified for the decimal property 'Paid' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 13:39:26.849 -05:00 [WRN] No store type was specified for the decimal property 'RetailPrice' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 13:39:27.569 -05:00 [INF] Executed DbCommand (56ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-18 13:39:27.807 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-18 13:39:27.818 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-07-18 13:39:27.821 -05:00 [INF] User logged in.
2024-07-18 13:39:27.823 -05:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2024-07-18 13:39:27.827 -05:00 [INF] Executing LocalRedirectResult, redirecting to /.
2024-07-18 13:39:27.828 -05:00 [INF] Executed page /Account/Login in 1590.0346ms
2024-07-18 13:39:27.830 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:39:27.834 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:39:27.836 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/Identity/Account/Login - 302 0 null 1615.0792ms
2024-07-18 13:39:27.843 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:39:27.845 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:39:27.847 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:39:27.854 -05:00 [INF] Executed ViewResult - view Index executed in 6.7398ms.
2024-07-18 13:39:27.858 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 10.6504ms
2024-07-18 13:39:27.860 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:39:27.861 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 27.3631ms
2024-07-18 13:39:27.866 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:39:27.868 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:39:27.878 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 9.8692ms
2024-07-18 13:39:27.890 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.8856ms
2024-07-18 13:39:30.284 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification - null null
2024-07-18 13:39:30.293 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:39:30.297 -05:00 [INF] Route matched with {action = "Index", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Index() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:46:28.142 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 13:46:28.214 -05:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[DiverCertificationId], [v].[Agency], [v].[CertificationNum], [v].[Certified], [v].[Created], [v].[DiverFirstname], [v].[DiverId], [v].[DiverLastName], [v].[InstructorFirstName], [v].[InstructorLastName], [v].[LastModified], [v].[Notes], [v].[Title], [v].[UserId]
FROM [vwMyCertifications] AS [v]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[Certified]
2024-07-18 13:46:30.098 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:46:33.288 -05:00 [INF] Executed ViewResult - view Index executed in 3585.5511ms.
2024-07-18 13:46:33.290 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web) in 422988.0792ms
2024-07-18 13:46:33.292 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:46:33.294 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification - 200 null text/html; charset=utf-8 423007.7187ms
2024-07-18 13:46:33.297 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:46:33.297 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:46:33.314 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 18.0593ms
2024-07-18 13:46:33.318 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.938ms
2024-07-18 13:46:37.665 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification/Create? - null null
2024-07-18 13:46:37.679 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 13:46:37.681 -05:00 [INF] Route matched with {action = "Create", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Create() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:46:37.779 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DiveAgencyId], [d].[ContactId], [d].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone], [c0].[CertificationId], [c0].[Created], [c0].[DiveAgencyId], [c0].[LastModified], [c0].[Notes], [c0].[Title], [c0].[UserId]
FROM [DiveAgencies] AS [d]
INNER JOIN [Contacts] AS [c] ON [d].[ContactId] = [c].[ContactId]
LEFT JOIN [Certifications] AS [c0] ON [d].[DiveAgencyId] = [c0].[DiveAgencyId]
ORDER BY [c].[Company], [d].[DiveAgencyId], [c].[ContactId]
2024-07-18 13:46:37.862 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DiveAgencyId], [t].[ContactId], [t].[Notes], [c].[CertificationId], [c].[Created], [c].[DiveAgencyId], [c].[LastModified], [c].[Notes], [c].[Title], [c].[UserId]
FROM (
    SELECT TOP(1) [d].[DiveAgencyId], [d].[ContactId], [d].[Notes]
    FROM [DiveAgencies] AS [d]
    WHERE [d].[DiveAgencyId] = @__id_0
) AS [t]
LEFT JOIN [Certifications] AS [c] ON [t].[DiveAgencyId] = [c].[DiveAgencyId]
ORDER BY [t].[DiveAgencyId]
2024-07-18 13:46:37.881 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[InstructorId], [i].[ContactId], [i].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone]
FROM [Instructors] AS [i]
INNER JOIN [Contacts] AS [c] ON [i].[ContactId] = [c].[ContactId]
ORDER BY [c].[LastName], [c].[FirstName]
2024-07-18 13:46:38.149 -05:00 [INF] Executing ViewResult, running view Create.
2024-07-18 13:46:38.253 -05:00 [INF] Executed ViewResult - view Create executed in 360.1685ms.
2024-07-18 13:46:38.255 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web) in 570.9771ms
2024-07-18 13:46:38.257 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 13:46:38.259 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification/Create? - 200 null text/html; charset=utf-8 593.2773ms
2024-07-18 13:46:38.260 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:46:38.260 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:46:38.267 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 7.2688ms
2024-07-18 13:46:38.278 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.4365ms
2024-07-18 13:46:41.487 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/MyCertification/UpdateCertificationList - application/x-www-form-urlencoded 240
2024-07-18 13:46:41.497 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web)'
2024-07-18 13:46:41.504 -05:00 [INF] Route matched with {action = "UpdateCertificationList", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult UpdateCertificationList(Phorcys.Web.Models.MyCertificationViewModel) on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:46:41.521 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DiveAgencyId], [d].[ContactId], [d].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone], [c0].[CertificationId], [c0].[Created], [c0].[DiveAgencyId], [c0].[LastModified], [c0].[Notes], [c0].[Title], [c0].[UserId]
FROM [DiveAgencies] AS [d]
INNER JOIN [Contacts] AS [c] ON [d].[ContactId] = [c].[ContactId]
LEFT JOIN [Certifications] AS [c0] ON [d].[DiveAgencyId] = [c0].[DiveAgencyId]
ORDER BY [c].[Company], [d].[DiveAgencyId], [c].[ContactId]
2024-07-18 13:46:41.531 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DiveAgencyId], [t].[ContactId], [t].[Notes], [c].[CertificationId], [c].[Created], [c].[DiveAgencyId], [c].[LastModified], [c].[Notes], [c].[Title], [c].[UserId]
FROM (
    SELECT TOP(1) [d].[DiveAgencyId], [d].[ContactId], [d].[Notes]
    FROM [DiveAgencies] AS [d]
    WHERE [d].[DiveAgencyId] = @__id_0
) AS [t]
LEFT JOIN [Certifications] AS [c] ON [t].[DiveAgencyId] = [c].[DiveAgencyId]
ORDER BY [t].[DiveAgencyId]
2024-07-18 13:46:41.537 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[InstructorId], [i].[ContactId], [i].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone]
FROM [Instructors] AS [i]
INNER JOIN [Contacts] AS [c] ON [i].[ContactId] = [c].[ContactId]
ORDER BY [c].[LastName], [c].[FirstName]
2024-07-18 13:46:41.542 -05:00 [INF] Executing ViewResult, running view Create.
2024-07-18 13:46:41.553 -05:00 [INF] Executed ViewResult - view Create executed in 11.1092ms.
2024-07-18 13:46:41.555 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web) in 48.9023ms
2024-07-18 13:46:41.557 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web)'
2024-07-18 13:46:41.559 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:46:41.559 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/MyCertification/UpdateCertificationList - 200 null text/html; charset=utf-8 72.9412ms
2024-07-18 13:46:41.560 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:46:41.583 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.7318ms
2024-07-18 13:46:41.585 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 25.1353ms
2024-07-18 13:48:03.215 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/MyCertification/UpdateCertificationList - application/x-www-form-urlencoded 240
2024-07-18 13:48:03.223 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web)'
2024-07-18 13:48:03.225 -05:00 [INF] Route matched with {action = "UpdateCertificationList", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult UpdateCertificationList(Phorcys.Web.Models.MyCertificationViewModel) on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:48:03.236 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DiveAgencyId], [d].[ContactId], [d].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone], [c0].[CertificationId], [c0].[Created], [c0].[DiveAgencyId], [c0].[LastModified], [c0].[Notes], [c0].[Title], [c0].[UserId]
FROM [DiveAgencies] AS [d]
INNER JOIN [Contacts] AS [c] ON [d].[ContactId] = [c].[ContactId]
LEFT JOIN [Certifications] AS [c0] ON [d].[DiveAgencyId] = [c0].[DiveAgencyId]
ORDER BY [c].[Company], [d].[DiveAgencyId], [c].[ContactId]
2024-07-18 13:48:03.245 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DiveAgencyId], [t].[ContactId], [t].[Notes], [c].[CertificationId], [c].[Created], [c].[DiveAgencyId], [c].[LastModified], [c].[Notes], [c].[Title], [c].[UserId]
FROM (
    SELECT TOP(1) [d].[DiveAgencyId], [d].[ContactId], [d].[Notes]
    FROM [DiveAgencies] AS [d]
    WHERE [d].[DiveAgencyId] = @__id_0
) AS [t]
LEFT JOIN [Certifications] AS [c] ON [t].[DiveAgencyId] = [c].[DiveAgencyId]
ORDER BY [t].[DiveAgencyId]
2024-07-18 13:48:03.253 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[InstructorId], [i].[ContactId], [i].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone]
FROM [Instructors] AS [i]
INNER JOIN [Contacts] AS [c] ON [i].[ContactId] = [c].[ContactId]
ORDER BY [c].[LastName], [c].[FirstName]
2024-07-18 13:48:03.526 -05:00 [INF] Executing ViewResult, running view Create.
2024-07-18 13:48:03.546 -05:00 [INF] Executed ViewResult - view Create executed in 288.6163ms.
2024-07-18 13:48:03.548 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web) in 319.6788ms
2024-07-18 13:48:03.551 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web)'
2024-07-18 13:48:03.552 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/MyCertification/UpdateCertificationList - 200 null text/html; charset=utf-8 337.6087ms
2024-07-18 13:48:03.556 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:48:03.556 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:48:03.561 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 5.0305ms
2024-07-18 13:48:03.576 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.5018ms
2024-07-18 13:48:29.771 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/MyCertification/Create - application/x-www-form-urlencoded 350
2024-07-18 13:48:29.782 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 13:48:29.790 -05:00 [INF] Route matched with {action = "Create", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Create(Phorcys.Web.Models.MyCertificationViewModel) on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:48:38.649 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 13:48:38.676 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-07-18 13:48:38.687 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_ContactId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DiverId], [d].[ContactId], [d].[Notes], [d].[RestingSacRate], [d].[WorkingSacRate]
FROM [Divers] AS [d]
WHERE [d].[ContactId] = @__user_ContactId_0
2024-07-18 13:48:42.994 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DiverCertifications] ([CertificationId], [CertificationNum], [Certified], [Created], [DiverId], [InstructorId], [LastModified], [Notes])
OUTPUT INSERTED.[DiverCertificationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-07-18 13:48:48.913 -05:00 [INF] Executing RedirectResult, redirecting to /MyCertification.
2024-07-18 13:48:48.915 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web) in 19122.9776ms
2024-07-18 13:48:48.917 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 13:48:48.918 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/MyCertification/Create - 302 0 null 19147.8277ms
2024-07-18 13:48:48.922 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification - null null
2024-07-18 13:48:51.190 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:48:51.192 -05:00 [INF] Route matched with {action = "Index", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Index() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:48:53.524 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 13:48:53.538 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[DiverCertificationId], [v].[Agency], [v].[CertificationNum], [v].[Certified], [v].[Created], [v].[DiverFirstname], [v].[DiverId], [v].[DiverLastName], [v].[InstructorFirstName], [v].[InstructorLastName], [v].[LastModified], [v].[Notes], [v].[Title], [v].[UserId]
FROM [vwMyCertifications] AS [v]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[Certified]
2024-07-18 13:48:53.542 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:48:53.562 -05:00 [INF] Executed ViewResult - view Index executed in 20.2316ms.
2024-07-18 13:48:53.568 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web) in 2372.4702ms
2024-07-18 13:48:53.572 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:48:53.573 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification - 200 null text/html; charset=utf-8 4651.5469ms
2024-07-18 13:48:53.575 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:48:53.574 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:48:53.588 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 13.256ms
2024-07-18 13:48:53.600 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.4108ms
2024-07-18 13:52:12.833 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification - null null
2024-07-18 13:52:12.847 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:52:12.850 -05:00 [INF] Route matched with {action = "Index", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Index() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:52:16.957 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 13:52:16.973 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[DiverCertificationId], [v].[Agency], [v].[CertificationNum], [v].[Certified], [v].[Created], [v].[DiverFirstname], [v].[DiverId], [v].[DiverLastName], [v].[InstructorFirstName], [v].[InstructorLastName], [v].[LastModified], [v].[Notes], [v].[Title], [v].[UserId]
FROM [vwMyCertifications] AS [v]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[Certified]
2024-07-18 13:52:16.977 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:52:16.989 -05:00 [INF] Executed ViewResult - view Index executed in 12.4834ms.
2024-07-18 13:52:16.996 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web) in 4143.4334ms
2024-07-18 13:52:16.997 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:52:17.000 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:52:17.003 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification - 200 null text/html; charset=utf-8 4170.8089ms
2024-07-18 13:52:17.000 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:52:17.042 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.7106ms
2024-07-18 13:52:17.045 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 45.017ms
2024-07-18 13:55:08.100 -05:00 [INF] User profile is available. Using 'C:\Users\larryhack\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-18 13:55:08.525 -05:00 [INF] Starting web host
2024-07-18 13:55:08.662 -05:00 [INF] Now listening on: https://localhost:53862
2024-07-18 13:55:08.664 -05:00 [INF] Now listening on: http://localhost:53863
2024-07-18 13:55:08.666 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-18 13:55:08.667 -05:00 [INF] Hosting environment: Development
2024-07-18 13:55:08.668 -05:00 [INF] Content root path: Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys2Web
2024-07-18 13:55:09.813 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:55:09.976 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:55:10.011 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:55:15.014 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:55:16.783 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:16.786 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:16.787 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:16.788 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:16.789 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:16.790 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:16.791 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:16.792 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:16.793 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:16.795 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:16.829 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:16.862 -05:00 [INF] Executed ViewResult - view Index executed in 6832.6127ms.
2024-07-18 13:55:16.871 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 6856.7584ms
2024-07-18 13:55:16.873 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:55:16.873 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:55:16.874 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:55:16.889 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 16.0523ms
2024-07-18 13:55:16.897 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 7088.3361ms
2024-07-18 13:55:16.928 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.358ms
2024-07-18 13:55:18.680 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/Identity/Account/Login - null null
2024-07-18 13:55:19.022 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:55:19.233 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:55:19.257 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-07-18 13:55:19.265 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-07-18 13:55:19.267 -05:00 [INF] Executed handler method OnGetAsync, returned result .
2024-07-18 13:55:19.271 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-07-18 13:55:19.272 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-07-18 13:55:19.953 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:19.955 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:19.956 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:19.958 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:19.959 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:19.960 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:19.962 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:19.963 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:19.965 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:19.966 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:19.968 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:55:19.975 -05:00 [INF] Executed page /Account/Login in 739.6735ms
2024-07-18 13:55:19.976 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:55:19.978 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/Identity/Account/Login - 200 null text/html; charset=utf-8 1299.1226ms
2024-07-18 13:55:19.987 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:55:19.987 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:55:19.999 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 12.7047ms
2024-07-18 13:55:20.017 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.4785ms
2024-07-18 13:55:21.365 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/Identity/Account/Login - application/x-www-form-urlencoded 267
2024-07-18 13:55:21.379 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:55:21.381 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:55:21.408 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2024-07-18 13:55:21.973 -05:00 [WRN] The foreign key property 'AgencyInstructor.InstructorId1' was created in shadow state because a conflicting property with the simple name 'InstructorId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-07-18 13:55:22.004 -05:00 [WRN] No store type was specified for the decimal property 'Paid' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 13:55:22.006 -05:00 [WRN] No store type was specified for the decimal property 'RetailPrice' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 13:55:22.736 -05:00 [INF] Executed DbCommand (65ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-18 13:55:22.971 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-18 13:55:22.982 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-07-18 13:55:22.984 -05:00 [INF] User logged in.
2024-07-18 13:55:22.987 -05:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2024-07-18 13:55:22.990 -05:00 [INF] Executing LocalRedirectResult, redirecting to /.
2024-07-18 13:55:22.992 -05:00 [INF] Executed page /Account/Login in 1609.7958ms
2024-07-18 13:55:22.994 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:55:22.998 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:55:23.000 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/Identity/Account/Login - 302 0 null 1635.8029ms
2024-07-18 13:55:23.007 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:55:23.008 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:55:23.011 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:55:23.018 -05:00 [INF] Executed ViewResult - view Index executed in 6.9843ms.
2024-07-18 13:55:23.021 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 10.3923ms
2024-07-18 13:55:23.023 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:55:23.024 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 26.3619ms
2024-07-18 13:55:23.028 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:55:23.028 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:55:23.043 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 14.4866ms
2024-07-18 13:55:23.050 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.2281ms
2024-07-18 13:55:26.695 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification - null null
2024-07-18 13:55:26.706 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:55:26.709 -05:00 [INF] Route matched with {action = "Index", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Index() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:55:26.788 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 13:55:26.858 -05:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[DiverCertificationId], [v].[Agency], [v].[CertificationNum], [v].[Certified], [v].[Created], [v].[DiverFirstname], [v].[DiverId], [v].[DiverLastName], [v].[InstructorFirstName], [v].[InstructorLastName], [v].[LastModified], [v].[Notes], [v].[Title], [v].[UserId]
FROM [vwMyCertifications] AS [v]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[Certified] DESC
2024-07-18 13:55:27.211 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:55:27.466 -05:00 [INF] Executed ViewResult - view Index executed in 581.1318ms.
2024-07-18 13:55:27.468 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web) in 756.1261ms
2024-07-18 13:55:27.469 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:55:27.471 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification - 200 null text/html; charset=utf-8 776.609ms
2024-07-18 13:55:27.472 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:55:27.472 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:55:27.490 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 17.7295ms
2024-07-18 13:55:27.495 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.6118ms
2024-07-18 13:55:28.928 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification/Create? - null null
2024-07-18 13:55:28.937 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 13:55:28.940 -05:00 [INF] Route matched with {action = "Create", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Create() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:55:29.048 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DiveAgencyId], [d].[ContactId], [d].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone], [c0].[CertificationId], [c0].[Created], [c0].[DiveAgencyId], [c0].[LastModified], [c0].[Notes], [c0].[Title], [c0].[UserId]
FROM [DiveAgencies] AS [d]
INNER JOIN [Contacts] AS [c] ON [d].[ContactId] = [c].[ContactId]
LEFT JOIN [Certifications] AS [c0] ON [d].[DiveAgencyId] = [c0].[DiveAgencyId]
ORDER BY [c].[Company], [d].[DiveAgencyId], [c].[ContactId]
2024-07-18 13:55:29.145 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DiveAgencyId], [t].[ContactId], [t].[Notes], [c].[CertificationId], [c].[Created], [c].[DiveAgencyId], [c].[LastModified], [c].[Notes], [c].[Title], [c].[UserId]
FROM (
    SELECT TOP(1) [d].[DiveAgencyId], [d].[ContactId], [d].[Notes]
    FROM [DiveAgencies] AS [d]
    WHERE [d].[DiveAgencyId] = @__id_0
) AS [t]
LEFT JOIN [Certifications] AS [c] ON [t].[DiveAgencyId] = [c].[DiveAgencyId]
ORDER BY [t].[DiveAgencyId]
2024-07-18 13:55:29.169 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[InstructorId], [i].[ContactId], [i].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone]
FROM [Instructors] AS [i]
INNER JOIN [Contacts] AS [c] ON [i].[ContactId] = [c].[ContactId]
ORDER BY [c].[LastName], [c].[FirstName]
2024-07-18 13:55:29.446 -05:00 [INF] Executing ViewResult, running view Create.
2024-07-18 13:55:29.569 -05:00 [INF] Executed ViewResult - view Create executed in 386.2503ms.
2024-07-18 13:55:29.571 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web) in 629.0962ms
2024-07-18 13:55:29.575 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:55:29.575 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:55:29.575 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 13:55:29.580 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 4.9817ms
2024-07-18 13:55:29.586 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification/Create? - 200 null text/html; charset=utf-8 657.7717ms
2024-07-18 13:55:29.594 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.9433ms
2024-07-18 13:55:32.551 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/MyCertification/UpdateCertificationList - application/x-www-form-urlencoded 240
2024-07-18 13:55:32.560 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web)'
2024-07-18 13:55:32.567 -05:00 [INF] Route matched with {action = "UpdateCertificationList", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult UpdateCertificationList(Phorcys.Web.Models.MyCertificationViewModel) on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:55:32.585 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DiveAgencyId], [d].[ContactId], [d].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone], [c0].[CertificationId], [c0].[Created], [c0].[DiveAgencyId], [c0].[LastModified], [c0].[Notes], [c0].[Title], [c0].[UserId]
FROM [DiveAgencies] AS [d]
INNER JOIN [Contacts] AS [c] ON [d].[ContactId] = [c].[ContactId]
LEFT JOIN [Certifications] AS [c0] ON [d].[DiveAgencyId] = [c0].[DiveAgencyId]
ORDER BY [c].[Company], [d].[DiveAgencyId], [c].[ContactId]
2024-07-18 13:55:32.596 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DiveAgencyId], [t].[ContactId], [t].[Notes], [c].[CertificationId], [c].[Created], [c].[DiveAgencyId], [c].[LastModified], [c].[Notes], [c].[Title], [c].[UserId]
FROM (
    SELECT TOP(1) [d].[DiveAgencyId], [d].[ContactId], [d].[Notes]
    FROM [DiveAgencies] AS [d]
    WHERE [d].[DiveAgencyId] = @__id_0
) AS [t]
LEFT JOIN [Certifications] AS [c] ON [t].[DiveAgencyId] = [c].[DiveAgencyId]
ORDER BY [t].[DiveAgencyId]
2024-07-18 13:55:32.605 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[InstructorId], [i].[ContactId], [i].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone]
FROM [Instructors] AS [i]
INNER JOIN [Contacts] AS [c] ON [i].[ContactId] = [c].[ContactId]
ORDER BY [c].[LastName], [c].[FirstName]
2024-07-18 13:55:32.611 -05:00 [INF] Executing ViewResult, running view Create.
2024-07-18 13:55:32.623 -05:00 [INF] Executed ViewResult - view Create executed in 12.5472ms.
2024-07-18 13:55:32.625 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web) in 55.4125ms
2024-07-18 13:55:32.627 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.UpdateCertificationList (Phorcys.Web)'
2024-07-18 13:55:32.629 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/MyCertification/UpdateCertificationList - 200 null text/html; charset=utf-8 77.9993ms
2024-07-18 13:55:32.629 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:55:32.630 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:55:32.648 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 18.9276ms
2024-07-18 13:55:32.653 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.201ms
2024-07-18 13:55:47.884 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/MyCertification/Create - application/x-www-form-urlencoded 333
2024-07-18 13:55:47.891 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 13:55:47.894 -05:00 [INF] Route matched with {action = "Create", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Create(Phorcys.Web.Models.MyCertificationViewModel) on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:55:47.903 -05:00 [INF] Executing ViewResult, running view Create.
2024-07-18 13:55:48.083 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web) in 185.6415ms
2024-07-18 13:55:48.086 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 13:55:48.090 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Select[TSource,TResult](IEnumerable`1 source, Func`2 selector)
   at Kendo.Mvc.UI.Fluent.DropDownListBuilder.BindTo(IEnumerable`1 dataSource)
   at AspNetCore.Views_MyCertification_Create.ExecuteAsync() in Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys2Web\Views\MyCertification\Create.cshtml:line 50
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-18 13:55:48.134 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/MyCertification/Create - 500 null text/html; charset=utf-8 251.1481ms
2024-07-18 13:55:48.142 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:55:48.142 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:55:48.155 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 12.367ms
2024-07-18 13:55:48.157 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.8297ms
2024-07-18 13:56:02.497 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification/Create? - null null
2024-07-18 13:56:02.503 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 13:56:02.505 -05:00 [INF] Route matched with {action = "Create", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Create() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:56:02.514 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DiveAgencyId], [d].[ContactId], [d].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone], [c0].[CertificationId], [c0].[Created], [c0].[DiveAgencyId], [c0].[LastModified], [c0].[Notes], [c0].[Title], [c0].[UserId]
FROM [DiveAgencies] AS [d]
INNER JOIN [Contacts] AS [c] ON [d].[ContactId] = [c].[ContactId]
LEFT JOIN [Certifications] AS [c0] ON [d].[DiveAgencyId] = [c0].[DiveAgencyId]
ORDER BY [c].[Company], [d].[DiveAgencyId], [c].[ContactId]
2024-07-18 13:56:02.522 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DiveAgencyId], [t].[ContactId], [t].[Notes], [c].[CertificationId], [c].[Created], [c].[DiveAgencyId], [c].[LastModified], [c].[Notes], [c].[Title], [c].[UserId]
FROM (
    SELECT TOP(1) [d].[DiveAgencyId], [d].[ContactId], [d].[Notes]
    FROM [DiveAgencies] AS [d]
    WHERE [d].[DiveAgencyId] = @__id_0
) AS [t]
LEFT JOIN [Certifications] AS [c] ON [t].[DiveAgencyId] = [c].[DiveAgencyId]
ORDER BY [t].[DiveAgencyId]
2024-07-18 13:56:02.529 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[InstructorId], [i].[ContactId], [i].[Notes], [c].[ContactId], [c].[Address1], [c].[Address2], [c].[Birthday], [c].[CellPhone], [c].[City], [c].[Company], [c].[CountryCode], [c].[Created], [c].[Email], [c].[FirstName], [c].[Gender], [c].[HomePhone], [c].[LastModified], [c].[LastName], [c].[Notes], [c].[PostalCode], [c].[State], [c].[UserId], [c].[WorkPhone]
FROM [Instructors] AS [i]
INNER JOIN [Contacts] AS [c] ON [i].[ContactId] = [c].[ContactId]
ORDER BY [c].[LastName], [c].[FirstName]
2024-07-18 13:56:02.534 -05:00 [INF] Executing ViewResult, running view Create.
2024-07-18 13:56:02.542 -05:00 [INF] Executed ViewResult - view Create executed in 7.7208ms.
2024-07-18 13:56:02.544 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web) in 36.3667ms
2024-07-18 13:56:02.546 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Create (Phorcys.Web)'
2024-07-18 13:56:02.547 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification/Create? - 200 null text/html; charset=utf-8 50.1835ms
2024-07-18 13:56:02.575 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:56:02.580 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 4.6514ms
2024-07-18 13:56:21.595 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification - null null
2024-07-18 13:56:21.602 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:56:21.604 -05:00 [INF] Route matched with {action = "Index", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Index() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:56:21.611 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 13:56:21.628 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[DiverCertificationId], [v].[Agency], [v].[CertificationNum], [v].[Certified], [v].[Created], [v].[DiverFirstname], [v].[DiverId], [v].[DiverLastName], [v].[InstructorFirstName], [v].[InstructorLastName], [v].[LastModified], [v].[Notes], [v].[Title], [v].[UserId]
FROM [vwMyCertifications] AS [v]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[Certified] DESC
2024-07-18 13:56:21.631 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:56:21.640 -05:00 [INF] Executed ViewResult - view Index executed in 8.2117ms.
2024-07-18 13:56:21.643 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web) in 35.1098ms
2024-07-18 13:56:21.645 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:56:21.646 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification - 200 null text/html; charset=utf-8 51.4328ms
2024-07-18 13:56:21.651 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:56:21.652 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:56:21.665 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 12.7853ms
2024-07-18 13:56:21.668 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.8362ms
2024-07-18 13:58:57.355 -05:00 [INF] User profile is available. Using 'C:\Users\larryhack\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-18 13:58:57.789 -05:00 [INF] Starting web host
2024-07-18 13:58:57.956 -05:00 [INF] Now listening on: https://localhost:53862
2024-07-18 13:58:57.957 -05:00 [INF] Now listening on: http://localhost:53863
2024-07-18 13:58:57.959 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-18 13:58:57.961 -05:00 [INF] Hosting environment: Development
2024-07-18 13:58:57.962 -05:00 [INF] Content root path: Z:\Users\Data\dev\Projects\dotNet\SCUBA\Phorcys2\Phorcys2Web
2024-07-18 13:58:59.061 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:58:59.202 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:58:59.233 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:59:04.054 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:59:05.837 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:05.839 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:05.840 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:05.841 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:05.843 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:05.844 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:05.845 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:05.846 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:05.847 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:05.848 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:05.882 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:05.913 -05:00 [INF] Executed ViewResult - view Index executed in 6652.2399ms.
2024-07-18 13:59:05.918 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 6674.2274ms
2024-07-18 13:59:05.921 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:59:05.930 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 6873.7061ms
2024-07-18 13:59:05.952 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:59:05.957 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:59:05.962 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 10.7909ms
2024-07-18 13:59:06.004 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.9226ms
2024-07-18 13:59:22.212 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/Identity/Account/Login - null null
2024-07-18 13:59:22.542 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:59:22.752 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:59:22.775 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-07-18 13:59:22.783 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-07-18 13:59:22.786 -05:00 [INF] Executed handler method OnGetAsync, returned result .
2024-07-18 13:59:22.789 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-07-18 13:59:22.791 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-07-18 13:59:23.455 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:23.457 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:23.458 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:23.460 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:23.461 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:23.463 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:23.464 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:23.465 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:23.467 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:23.468 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:23.470 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-18 13:59:23.478 -05:00 [INF] Executed page /Account/Login in 723.5475ms
2024-07-18 13:59:23.480 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:59:23.482 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/Identity/Account/Login - 200 null text/html; charset=utf-8 1270.5026ms
2024-07-18 13:59:23.491 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:59:23.491 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:59:23.496 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 5.06ms
2024-07-18 13:59:23.520 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.8143ms
2024-07-18 13:59:24.698 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/Identity/Account/Login - application/x-www-form-urlencoded 267
2024-07-18 13:59:24.710 -05:00 [INF] Executing endpoint '/Account/Login'
2024-07-18 13:59:24.712 -05:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-07-18 13:59:24.740 -05:00 [INF] Executing handler method Phorcys.Web.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2024-07-18 13:59:25.333 -05:00 [WRN] The foreign key property 'AgencyInstructor.InstructorId1' was created in shadow state because a conflicting property with the simple name 'InstructorId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-07-18 13:59:25.364 -05:00 [WRN] No store type was specified for the decimal property 'Paid' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 13:59:25.367 -05:00 [WRN] No store type was specified for the decimal property 'RetailPrice' on entity type 'Gear'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-07-18 13:59:26.103 -05:00 [INF] Executed DbCommand (52ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-18 13:59:26.334 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-18 13:59:26.346 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-07-18 13:59:26.348 -05:00 [INF] User logged in.
2024-07-18 13:59:26.351 -05:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2024-07-18 13:59:26.355 -05:00 [INF] Executing LocalRedirectResult, redirecting to /.
2024-07-18 13:59:26.357 -05:00 [INF] Executed page /Account/Login in 1643.1749ms
2024-07-18 13:59:26.359 -05:00 [INF] Executed endpoint '/Account/Login'
2024-07-18 13:59:26.363 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/ - null null
2024-07-18 13:59:26.366 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/Identity/Account/Login - 302 0 null 1667.9935ms
2024-07-18 13:59:26.373 -05:00 [INF] Executing endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:59:26.374 -05:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Phorcys2Web.Controllers.HomeController (Phorcys.Web).
2024-07-18 13:59:26.377 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:59:26.384 -05:00 [INF] Executed ViewResult - view Index executed in 7.0965ms.
2024-07-18 13:59:26.387 -05:00 [INF] Executed action Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web) in 10.7188ms
2024-07-18 13:59:26.389 -05:00 [INF] Executed endpoint 'Phorcys2Web.Controllers.HomeController.Index (Phorcys.Web)'
2024-07-18 13:59:26.391 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/ - 200 null text/html; charset=utf-8 27.8008ms
2024-07-18 13:59:26.394 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:59:26.394 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:59:26.407 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 12.8189ms
2024-07-18 13:59:26.414 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.5029ms
2024-07-18 13:59:29.009 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification - null null
2024-07-18 13:59:29.019 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:59:29.022 -05:00 [INF] Route matched with {action = "Index", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Index() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 13:59:29.087 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 13:59:29.140 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[DiverCertificationId], [v].[Agency], [v].[CertificationNum], [v].[Certified], [v].[Created], [v].[DiverFirstname], [v].[DiverId], [v].[DiverLastName], [v].[InstructorFirstName], [v].[InstructorLastName], [v].[LastModified], [v].[Notes], [v].[Title], [v].[UserId]
FROM [vwMyCertifications] AS [v]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[Certified] DESC
2024-07-18 13:59:29.493 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 13:59:29.769 -05:00 [INF] Executed ViewResult - view Index executed in 604.9724ms.
2024-07-18 13:59:29.772 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 13:59:29.772 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web) in 747.6887ms
2024-07-18 13:59:29.772 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 13:59:29.780 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 13:59:29.791 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.6142ms
2024-07-18 13:59:29.791 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 19.6059ms
2024-07-18 13:59:29.792 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification - 200 null text/html; charset=utf-8 783.7267ms
2024-07-18 14:00:47.931 -05:00 [INF] Request starting HTTP/2 POST https://localhost:53862/MyCertification/Delete - application/x-www-form-urlencoded 249
2024-07-18 14:00:47.954 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Delete (Phorcys.Web)'
2024-07-18 14:00:47.957 -05:00 [INF] Route matched with {action = "Delete", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Delete(Int32) on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 14:00:52.161 -05:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DiverCertificationId], [d].[CertificationId], [d].[CertificationNum], [d].[Certified], [d].[Created], [d].[DiverId], [d].[InstructorId], [d].[LastModified], [d].[Notes]
FROM [DiverCertifications] AS [d]
WHERE [d].[DiverCertificationId] = @__p_0
2024-07-18 14:00:52.270 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [DiverCertifications]
OUTPUT 1
WHERE [DiverCertificationId] = @p0;
2024-07-18 14:00:52.280 -05:00 [INF] Executing RedirectResult, redirecting to /MyCertification.
2024-07-18 14:00:52.283 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Delete (Phorcys.Web) in 4323.2144ms
2024-07-18 14:00:52.285 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Delete (Phorcys.Web)'
2024-07-18 14:00:52.286 -05:00 [INF] Request finished HTTP/2 POST https://localhost:53862/MyCertification/Delete - 302 0 null 4355.5318ms
2024-07-18 14:00:52.290 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/MyCertification - null null
2024-07-18 14:00:52.298 -05:00 [INF] Executing endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 14:00:52.299 -05:00 [INF] Route matched with {action = "Index", controller = "MyCertification", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Index() on controller Phorcys.Web.Controllers.MyCertificationController (Phorcys.Web).
2024-07-18 14:00:52.320 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[@__loginId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AspNetUserId], [u].[ContactId], [u].[Created], [u].[LastModified], [u].[LoginCount], [u].[LoginId], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[AspNetUserId] = @__loginId_0
2024-07-18 14:00:52.351 -05:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[DiverCertificationId], [v].[Agency], [v].[CertificationNum], [v].[Certified], [v].[Created], [v].[DiverFirstname], [v].[DiverId], [v].[DiverLastName], [v].[InstructorFirstName], [v].[InstructorLastName], [v].[LastModified], [v].[Notes], [v].[Title], [v].[UserId]
FROM [vwMyCertifications] AS [v]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[Certified] DESC
2024-07-18 14:00:52.355 -05:00 [INF] Executing ViewResult, running view Index.
2024-07-18 14:00:52.365 -05:00 [INF] Executed ViewResult - view Index executed in 9.414ms.
2024-07-18 14:00:52.367 -05:00 [INF] Executed action Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web) in 64.8282ms
2024-07-18 14:00:52.370 -05:00 [INF] Executed endpoint 'Phorcys.Web.Controllers.MyCertificationController.Index (Phorcys.Web)'
2024-07-18 14:00:52.372 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/MyCertification - 200 null text/html; charset=utf-8 82.2047ms
2024-07-18 14:00:52.378 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - null null
2024-07-18 14:00:52.378 -05:00 [INF] Request starting HTTP/2 GET https://localhost:53862/_vs/browserLink - null null
2024-07-18 14:00:52.387 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 8.8884ms
2024-07-18 14:00:52.404 -05:00 [INF] Request finished HTTP/2 GET https://localhost:53862/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.1582ms
