@using Microsoft.EntityFrameworkCore.Metadata.Internal
@using Phorcys2Web.Controllers

@model Phorcys.Web.Models.ContactViewModel

@{
    ViewData["Title"] = "New Contact";
}

<div class="placeholders mb-2">
    <div class="row d-flex justify-content-start">
    </div><a href="z:\users\data\dev\projects\dotnet\scuba\phorcys2\phorcys2web\views\contact\create.cshtml">z:\users\data\dev\projects\dotnet\scuba\phorcys2\phorcys2web\views\contact\create.cshtml</a>
</div>

<section class="jumbotron text-center">
    <div class="container">
        <h1 class="jumbotron-heading">@ViewBag.Title</h1>
        <p class="lead-text text-muted">@ViewBag.Message</p>
    </div>
</section>

<div class="pageMessage">
    @Html.ValidationSummary()
</div>

@using (Html.BeginForm("Create", "Contact", FormMethod.Post))
{
    @Html.AntiForgeryToken()

    <div class="pageMessage">
        @Html.ValidationSummary(true, "Please correct the errors and try again.")
    </div>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">

                <fieldset>

                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-4 d-flex align-items-center mb-3">
                                @Html.LabelFor(m => m.IsDiver, "Diver", new { @class = "form-label me-2" })
                                @(Html.Kendo().SwitchFor(m => m.IsDiver)
                                    .Messages(m => m.Checked("Yes").Unchecked("No"))
                                    )
                            </div>

                            <div class="col-md-4 d-flex align-items-center mb-3">
                                @Html.LabelFor(m => m.IsInstructor, "Instructor", new { @class = "form-label me-2" })
                                @(Html.Kendo().SwitchFor(m => m.IsInstructor)
                                    .Messages(m => m.Checked("Yes").Unchecked("No"))
                                    )
                            </div>

                            <div class="col-md-4 d-flex align-items-center mb-3">
                                @Html.LabelFor(m => m.IsAgency, "Agency", new { @class = "form-label me-2" })
                                @(Html.Kendo().SwitchFor(m => m.IsAgency)
                                    .Messages(m => m.Checked("Yes").Unchecked("No"))
                                    )
                            </div>

                            <div class="col-md-4 d-flex align-items-center mb-3">
                                @Html.LabelFor(m => m.IsManufacturer, "Manufacturer", new { @class = "form-label me-2" })
                                @(Html.Kendo().SwitchFor(m => m.IsManufacturer)
                                    .Messages(m => m.Checked("Yes").Unchecked("No"))
                                    )
                            </div>

                            <div class="col-md-4 d-flex align-items-center mb-3">
                                @Html.LabelFor(m => m.IsDiveShop, "Diveshop", new { @class = "form-label me-2" })
                                @(Html.Kendo().SwitchFor(m => m.IsDiveShop)
                                    .Messages(m => m.Checked("Yes").Unchecked("No"))
                                    )
                            </div>
                        </div>
                    </div>

                    <div>
                        <p>
                            <label for="Company">Company:</label>
                            <br />
                            @Html.Kendo().TextBoxFor(m => m.Company)
                            <div class="pageMessage">
                                @Html.ValidationMessageFor(m => m.Company)
                            </div>
                        </p>
                    </div>

                    <div>
                        <p>
                            <label for="FirstName">First Name:</label>
                            <br />
                            @Html.Kendo().TextBoxFor(m => m.FirstName)
                            <div class="pageMessage">
                                @Html.ValidationMessageFor(m => m.FirstName)
                            </div>
                        </p>
                    </div>

                    <div>
                        <p>
                            <label for="LastName">LastName:</label>
                            <br />
                            @Html.Kendo().TextBoxFor(m => m.LastName)
                            <div class="pageMessage">
                                @Html.ValidationMessageFor(m => m.LastName)
                            </div>
                        </p>
                    </div>

                    <div>
                        <p>
                            <label for="Address1">Address 1:</label>
                            <br />
                            @Html.Kendo().TextBoxFor(m => m.Address1)
                            <div class="pageMessage">
                                @Html.ValidationMessageFor(m => m.Address1)
                            </div>
                        </p>
                    </div>

                    <div>
                        <p>
                            <label for="Address2">Address 2:</label>
                            <br />
                            @Html.Kendo().TextBoxFor(m => m.Address2)
                            <div class="pageMessage">
                                @Html.ValidationMessageFor(m => m.Address2)
                            </div>
                        </p>
                    </div>

                    <div>
                        <p>
                            <label for="City">City:</label>
                            <br />
                            @Html.Kendo().TextBoxFor(m => m.City)
                            <div class="pageMessage">
                                @Html.ValidationMessageFor(m => m.City)
                            </div>
                        </p>
                    </div>

                    <div>
                        <p>
                            <label for="State">State:</label>
                            <br />
                            @Html.Kendo().TextBoxFor(m => m.State)
                            <div class="pageMessage">
                                @Html.ValidationMessageFor(m => m.State)
                            </div>
                        </p>
                    </div>

                    <div>
                        <p>
                            <label for="PostalCode">Postal Code:</label>
                            <br />
                            @Html.Kendo().TextBoxFor(m => m.PostalCode)
                            <div class="pageMessage">
                                @Html.ValidationMessageFor(m => m.PostalCode)
                            </div>
                        </p>
                    </div>

                    <div>
                        <p>
                            <label for="Country">Country:</label>
                            <br />
                            @(Html.Kendo().DropDownListFor(m => m.SelectedCountryCode)
                                .DataTextField("Text")
                                .DataValueField("Value")
                                .BindTo(Model.CountryList)
                                .OptionLabel("Select a Country")
                                .HtmlAttributes(new { @class = "form-control" })
                                )

                            <div class="pageMessage">
                                @Html.ValidationMessageFor(m => m.SelectedCountryCode)
                            </div>
                        </p>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(m => m.Email, new { @class = "form-label" })
                        @(Html.Kendo().TextBoxFor(m => m.Email)
                            .HtmlAttributes(new { type = "email", @class = "form-control" }) // Enforce email input
                            )
                        @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(m => m.CellPhone, "Cell Phone", new { @class = "form-label" })
                        @(Html.Kendo().TextBoxFor(m => m.CellPhone)
                            .HtmlAttributes(new { type = "tel", @class = "form-control", placeholder = "+1 555-555-5555" })
                            )
                        @Html.ValidationMessageFor(m => m.CellPhone, "", new { @class = "text-danger" })
                    </div>

                    <div>
                        <p>
                            <label for="Notes">Notes:</label>
                            <br />
                            @(Html.Kendo().TextAreaFor(m => m.Notes).Rows(6))
                            <br />
                            <div class="pageMessage">
                                @Html.ValidationMessageFor(m => m.Notes)
                            </div>
                        </p>
                    </div>

                    <div>
                        @(Html.Kendo().Button()
                            .Name("saveButton")
                            .HtmlAttributes(new { type = "submit", @class = "btn btn-normal" })
                            //.Icon("save")
                            .ImageUrl(Url.Content("~/icons/GreenCheckmark.png"))
                            .Content("Save")
                            )

                        @(Html.Kendo().Button()
                            .Name("cancelButton")
                            .HtmlAttributes(new { @class = "btn btn-normal", onclick = "redirectToIndex();" })
                            .ImageUrl(Url.Content("~/icons/RedXMark.png"))
                            .Content("Cancel")
                            )
                    </div>

                </fieldset>

            </div>
        </div>
    </div>
}
<script type="text/javascript">
    function redirectToIndex() {
        window.location.href = '@Url.Action("Index", "Contact")';
    }
</script>
